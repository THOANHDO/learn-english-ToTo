cat <<'EOF' > index.html
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<<<<<<< HEAD
    <title>Learn English ToTo - L·ªô tr√¨nh TOEIC cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</title>
=======
    <title>Learn English ToTo - N·ªÅn t·∫£ng TOEIC to√†n di·ªán cho ng∆∞·ªùi m·ªõi</title>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
<<<<<<< HEAD
            --bg: #0f172a;
            --bg-alt: #111c34;
            --card: rgba(15, 23, 42, 0.75);
=======
            --bg: #0b1221;
            --bg-alt: #131e34;
            --surface: rgba(15, 23, 42, 0.85);
            --border: rgba(148, 163, 184, 0.2);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            --text: #e2e8f0;
            --muted: #94a3b8;
            --primary: #38bdf8;
            --secondary: #c084fc;
            --accent: #f472b6;
<<<<<<< HEAD
=======
            --success: #22d3ee;
            --warning: #facc15;
            --danger: #f87171;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            margin: 0;
<<<<<<< HEAD
            font-family: "Be Vietnam Pro", "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, rgba(56, 189, 248, 0.15), transparent 55%),
                        radial-gradient(circle at 30% 40%, rgba(192, 132, 252, 0.12), transparent 45%),
                        linear-gradient(160deg, rgba(15, 23, 42, 1), rgba(15, 23, 42, 0.95));
            color: var(--text);
            line-height: 1.6;
=======
            font-family: "Be Vietnam Pro", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, rgba(56, 189, 248, 0.18), transparent 55%),
                        radial-gradient(circle at 80% 0%, rgba(244, 114, 182, 0.18), transparent 45%),
                        linear-gradient(160deg, rgba(7, 12, 24, 1), rgba(11, 18, 33, 0.92));
            color: var(--text);
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        body.large-text {
            font-size: 1.07rem;
        }

        a {
            color: inherit;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        header.hero {
            position: relative;
<<<<<<< HEAD
            overflow: hidden;
            padding: 4rem 1.5rem 5rem;
=======
            padding: 4.5rem 1.5rem 5rem;
            overflow: hidden;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        header.hero::after {
            content: "";
            position: absolute;
            inset: 0;
<<<<<<< HEAD
            background: linear-gradient(120deg, rgba(56, 189, 248, 0.25), rgba(192, 132, 252, 0.2));
=======
            background: radial-gradient(circle at 20% 20%, rgba(56, 189, 248, 0.35), transparent 55%),
                        radial-gradient(circle at 80% 0%, rgba(192, 132, 252, 0.28), transparent 45%),
                        linear-gradient(140deg, rgba(56, 189, 248, 0.15), rgba(192, 132, 252, 0.12));
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            filter: blur(120px);
            z-index: -1;
        }

        .hero-inner {
<<<<<<< HEAD
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
=======
            max-width: 1180px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            gap: 2.5rem;
            align-items: center;
        }

        .hero-text h1 {
<<<<<<< HEAD
            font-size: clamp(2.2rem, 4vw, 3.4rem);
=======
            font-size: clamp(2.4rem, 4vw, 3.6rem);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            margin-bottom: 1rem;
            color: #f8fafc;
        }

        .hero-text p {
            color: var(--muted);
<<<<<<< HEAD
            font-size: 1.05rem;
=======
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
<<<<<<< HEAD
            margin-top: 2rem;
=======
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            flex-wrap: wrap;
        }

        .btn {
<<<<<<< HEAD
            padding: 0.85rem 1.8rem;
            border-radius: 999px;
            font-weight: 600;
            text-decoration: none;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
=======
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.9rem 1.8rem;
            border-radius: 999px;
            text-decoration: none;
            font-weight: 600;
            border: 1px solid transparent;
            transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
            cursor: pointer;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        .btn-primary {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: #0f172a;
            box-shadow: 0 15px 35px rgba(56, 189, 248, 0.35);
        }

        .btn-outline {
<<<<<<< HEAD
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: var(--text);
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 18px 40px rgba(59, 130, 246, 0.3);
        }

        .hero-highlights {
            display: grid;
            gap: 1rem;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            margin-top: 2.5rem;
        }

        .highlight {
            background: linear-gradient(160deg, rgba(56, 189, 248, 0.15), rgba(192, 132, 252, 0.1));
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 18px;
            padding: 1.4rem;
            text-align: left;
        }

        .highlight span {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: #f8fafc;
=======
            border-color: rgba(148, 163, 184, 0.4);
            color: var(--text);
            background: rgba(15, 23, 42, 0.35);
        }

        .btn-ghost {
            background: transparent;
            color: var(--primary);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 18px 40px rgba(56, 189, 248, 0.28);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .hero-visual {
            background: linear-gradient(160deg, rgba(56, 189, 248, 0.15), rgba(192, 132, 252, 0.15));
            border: 1px solid rgba(56, 189, 248, 0.15);
            border-radius: 24px;
            padding: 2rem;
            backdrop-filter: blur(16px);
        }

        .hero-visual canvas {
            width: 100%;
        }

        nav.quick-nav {
            position: sticky;
            top: 0;
            backdrop-filter: blur(14px);
            background: rgba(10, 15, 28, 0.8);
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
            z-index: 15;
        }

        .quick-nav ul {
            margin: 0;
            padding: 0.8rem 1.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 0.75rem;
            list-style: none;
            max-width: 1180px;
            margin-inline: auto;
        }

        .quick-nav a {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.6rem 0.9rem;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.18);
            background: rgba(15, 23, 42, 0.35);
            color: var(--muted);
            font-weight: 500;
            text-decoration: none;
        }

        .quick-nav a:hover {
            color: var(--text);
            border-color: rgba(56, 189, 248, 0.5);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        main {
            max-width: 1180px;
            margin: 0 auto;
<<<<<<< HEAD
            padding: 0 1.5rem 5rem;
        }

        section {
            margin-bottom: 4rem;
=======
            padding: 3rem 1.5rem 6rem;
        }

        section {
            margin-bottom: 4.5rem;
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        .section-heading {
            display: flex;
<<<<<<< HEAD
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.8rem;
        }

        .section-heading h2 {
            font-size: clamp(1.8rem, 3vw, 2.5rem);
            margin: 0;
=======
            align-items: flex-start;
            justify-content: space-between;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .section-heading h2 {
            margin: 0;
            font-size: clamp(1.8rem, 3vw, 2.5rem);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            color: #f8fafc;
        }

        .section-heading p {
<<<<<<< HEAD
            color: var(--muted);
            max-width: 620px;
            margin: 0;
        }

        .feature-grid {
=======
            margin: 0;
            max-width: 620px;
            color: var(--muted);
        }

        .card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 1.6rem;
            backdrop-filter: blur(12px);
        }

        .card h3 {
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .grid-3 {
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
        }

<<<<<<< HEAD
        .card {
            background: var(--card);
            border: 1px solid rgba(148, 163, 184, 0.18);
            border-radius: 18px;
            padding: 1.6rem;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            position: relative;
            overflow: hidden;
        }

        .card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(56, 189, 248, 0.08), rgba(15, 23, 42, 0));
            pointer-events: none;
        }

        .card .icon {
            font-size: 1.8rem;
        }

        .card h3 {
            margin: 0;
            color: #f8fafc;
            font-size: 1.2rem;
        }

        .card p, .card ul {
            margin: 0;
            color: var(--muted);
            font-size: 0.97rem;
        }

        .card ul {
            padding-left: 1.1rem;
            display: grid;
            gap: 0.35rem;
        }

        .card ul li::marker {
            color: var(--primary);
        }

        .feature-matrix {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.5rem;
        }

        .matrix-group {
            background: linear-gradient(160deg, rgba(56, 189, 248, 0.12), rgba(192, 132, 252, 0.12));
            border: 1px solid rgba(56, 189, 248, 0.22);
            border-radius: 20px;
            padding: 1.8rem;
        }

        .matrix-group h3 {
            margin-top: 0;
            color: #f8fafc;
            font-size: 1.25rem;
        }

        .matrix-group ul {
            margin: 0;
            padding-left: 1.1rem;
            color: var(--text);
            display: grid;
            gap: 0.4rem;
        }

        .tag-list {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .tag {
            background: rgba(148, 163, 184, 0.15);
            border-radius: 999px;
            padding: 0.45rem 0.9rem;
            color: var(--text);
            font-size: 0.85rem;
            border: 1px solid rgba(148, 163, 184, 0.25);
        }

        .grid-two {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.8rem;
        }

        .stats-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .stats-board .stat {
            padding: 1.4rem;
            border-radius: 16px;
            background: rgba(15, 23, 42, 0.65);
            border: 1px solid rgba(56, 189, 248, 0.15);
        }

        .stat strong {
            display: block;
            font-size: 1.1rem;
            color: #f8fafc;
        }

        footer {
            background: rgba(15, 23, 42, 0.85);
            border-top: 1px solid rgba(148, 163, 184, 0.2);
            padding: 2.5rem 1.5rem;
=======
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.2rem;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.35rem 0.75rem;
            border-radius: 999px;
            font-size: 0.75rem;
            background: rgba(56, 189, 248, 0.15);
            color: var(--primary);
        }

        .stat {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            padding: 1.2rem;
            border-radius: 16px;
            background: rgba(15, 23, 42, 0.45);
            border: 1px solid rgba(148, 163, 184, 0.18);
        }

        .stat strong {
            font-size: 1.5rem;
            color: #f8fafc;
        }

        form label {
            display: block;
            margin-bottom: 0.35rem;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 12px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            background: rgba(15, 23, 42, 0.5);
            color: var(--text);
            font-family: inherit;
        }

        textarea {
            min-height: 120px;
        }

        input:focus, select:focus, textarea:focus {
            outline: 2px solid rgba(56, 189, 248, 0.45);
        }

        .chart {
            width: 100%;
            height: 220px;
        }

        .flashcard {
            position: relative;
            border-radius: 18px;
            padding: 1.8rem;
            background: linear-gradient(160deg, rgba(56, 189, 248, 0.18), rgba(192, 132, 252, 0.12));
            border: 1px solid rgba(148, 163, 184, 0.25);
            min-height: 220px;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .flashcard img {
            width: 72px;
            height: 72px;
            border-radius: 16px;
            object-fit: cover;
        }

        .flashcard-actions {
            margin-top: auto;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .list-inline {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .list-inline li {
            padding: 0.4rem 0.75rem;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            font-size: 0.85rem;
            background: rgba(15, 23, 42, 0.55);
        }

        .pill {
            border-radius: 999px;
            padding: 0.35rem 0.8rem;
            background: rgba(56, 189, 248, 0.2);
            color: var(--primary);
            font-size: 0.8rem;
        }

        .accordion {
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 16px;
            overflow: hidden;
        }

        .accordion-item + .accordion-item {
            border-top: 1px solid rgba(148, 163, 184, 0.2);
        }

        .accordion-header {
            background: rgba(15, 23, 42, 0.45);
            padding: 1rem 1.2rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .accordion-content {
            display: none;
            padding: 1rem 1.2rem 1.4rem;
            background: rgba(10, 15, 28, 0.65);
        }

        .accordion-item.active .accordion-content {
            display: block;
        }

        .listening-track {
            padding: 1.2rem;
            border-radius: 16px;
            border: 1px solid rgba(56, 189, 248, 0.25);
            background: linear-gradient(160deg, rgba(2, 132, 199, 0.1), rgba(30, 64, 175, 0.1));
            display: grid;
            gap: 0.6rem;
        }

        .timer {
            font-variant-numeric: tabular-nums;
            font-weight: 600;
            color: var(--warning);
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.6rem;
            margin-top: 1rem;
        }

        .calendar .day {
            min-height: 84px;
            border-radius: 14px;
            background: rgba(15, 23, 42, 0.45);
            border: 1px solid rgba(148, 163, 184, 0.18);
            padding: 0.6rem;
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        .calendar .day .tasks {
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
            font-size: 0.72rem;
        }

        .toast-container {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            z-index: 200;
        }

        .toast {
            background: rgba(15, 23, 42, 0.95);
            border-radius: 14px;
            padding: 1rem 1.2rem;
            border: 1px solid rgba(56, 189, 248, 0.25);
            box-shadow: 0 20px 45px rgba(15, 23, 42, 0.35);
        }

        .modal {
            position: fixed;
            inset: 0;
            background: rgba(7, 11, 20, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 150;
            padding: 1.5rem;
        }

        .modal.active {
            display: flex;
        }

        .modal .modal-content {
            background: rgba(15, 23, 42, 0.95);
            border-radius: 20px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            padding: 1.8rem;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--muted);
            font-size: 1.4rem;
            cursor: pointer;
        }

        .tab-list {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 1.2rem;
        }

        .tab-list button {
            padding: 0.6rem 1.1rem;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.25);
            background: rgba(15, 23, 42, 0.45);
            color: var(--muted);
            cursor: pointer;
        }

        .tab-list button.active {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: #0f172a;
            border-color: transparent;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .split-screen {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .keyboard-shortcuts {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .keyboard-shortcuts span {
            display: inline-flex;
            gap: 0.4rem;
            align-items: center;
        }

        kbd {
            background: rgba(15, 23, 42, 0.45);
            border: 1px solid rgba(148, 163, 184, 0.35);
            border-radius: 6px;
            padding: 0.15rem 0.4rem;
            font-size: 0.75rem;
        }

        .swipe-hint {
            font-size: 0.85rem;
            color: var(--muted);
        }

        .mobile-quick-menu {
            position: fixed;
            left: 50%;
            bottom: 1rem;
            transform: translateX(-50%);
            display: none;
            background: rgba(10, 15, 28, 0.92);
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            padding: 0.45rem 0.75rem;
            backdrop-filter: blur(12px);
            z-index: 120;
        }

        .mobile-quick-menu ul {
            margin: 0;
            padding: 0;
            list-style: none;
            display: flex;
            gap: 0.6rem;
        }

        .mobile-quick-menu a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(148, 163, 184, 0.15);
            color: var(--text);
            text-decoration: none;
            font-size: 1.1rem;
        }

        footer {
            padding: 3rem 1.5rem 4rem;
            border-top: 1px solid rgba(148, 163, 184, 0.18);
            background: rgba(10, 15, 28, 0.9);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        }

        footer .footer-inner {
            max-width: 1180px;
            margin: 0 auto;
            display: grid;
<<<<<<< HEAD
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 2rem;
        }

        footer p {
            color: var(--muted);
        }

        @media (max-width: 720px) {
            header.hero {
                padding-top: 3.2rem;
                padding-bottom: 3.5rem;
            }

            .hero-actions {
                flex-direction: column;
                align-items: stretch;
            }

            .section-heading {
                align-items: flex-start;
=======
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
        }

        .chat-widget {
            position: fixed;
            right: 1.5rem;
            bottom: 5.5rem;
            width: 320px;
            background: rgba(15, 23, 42, 0.9);
            border-radius: 18px;
            border: 1px solid rgba(56, 189, 248, 0.22);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(12px);
            z-index: 130;
        }

        .chat-header {
            padding: 0.9rem 1.2rem;
            background: rgba(56, 189, 248, 0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            padding: 1rem 1.2rem;
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .message {
            padding: 0.7rem 0.9rem;
            border-radius: 14px;
            max-width: 85%;
            line-height: 1.5;
        }

        .message.user {
            margin-left: auto;
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: #0f172a;
        }

        .message.bot {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(148, 163, 184, 0.25);
        }

        .chat-input {
            padding: 0.9rem 1.2rem;
            border-top: 1px solid rgba(148, 163, 184, 0.2);
            display: flex;
            gap: 0.6rem;
        }

        .chat-input input {
            flex: 1;
        }

        .drag-area {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
            padding: 1rem;
            border: 1px dashed rgba(148, 163, 184, 0.4);
            border-radius: 16px;
            background: rgba(15, 23, 42, 0.35);
        }

        .draggable-word {
            padding: 0.4rem 0.8rem;
            border-radius: 999px;
            background: rgba(56, 189, 248, 0.22);
            cursor: grab;
        }

        .drop-target {
            min-width: 90px;
            min-height: 40px;
            border-bottom: 2px dashed rgba(148, 163, 184, 0.4);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.2rem 0.4rem;
            border-radius: 8px;
        }

        #tutorial-overlay {
            position: fixed;
            inset: 0;
            background: rgba(7, 12, 24, 0.88);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 220;
            padding: 1.5rem;
        }

        #tutorial-overlay.active {
            display: flex;
        }

        .tutorial-card {
            max-width: 520px;
            background: rgba(15, 23, 42, 0.95);
            border-radius: 20px;
            border: 1px solid rgba(56, 189, 248, 0.25);
            padding: 2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .tutorial-progress {
            display: flex;
            gap: 0.4rem;
            justify-content: center;
        }

        .tutorial-progress span {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(148, 163, 184, 0.3);
        }

        .tutorial-progress span.active {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
        }

        .certificate-preview {
            background: #fff;
            color: #0f172a;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
        }

        .report-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.5rem;
        }

        .parent-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 900px) {
            header.hero {
                padding-top: 3.2rem;
            }

            .chat-widget {
                width: min(90vw, 360px);
            }
        }

        @media (max-width: 720px) {
            .quick-nav {
                display: none;
            }

            .mobile-quick-menu {
                display: block;
            }

            main {
                padding-bottom: 8rem;
            }

            .chat-widget {
                right: 0.75rem;
                bottom: 7.5rem;
                width: calc(100vw - 1.5rem);
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            }
        }
    </style>
</head>
<body>
<<<<<<< HEAD
    <header class="hero">
        <div class="hero-inner">
            <div class="hero-text">
                <h1>Learn English ToTo ‚Äì H√†nh tr√¨nh TOEIC chu·∫©n ho√° cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</h1>
                <p>B·∫Øt ƒë·∫ßu t·ª´ con s·ªë 0 v·ªõi l·ªô tr√¨nh ƒë∆∞·ª£c c√° nh√¢n ho√°, luy·ªán thi TOEIC hi·ªáu qu·∫£ c√πng h·ªá th·ªëng b√†i h·ªçc ƒëa ph∆∞∆°ng ti·ªán, theo s√°t ti·∫øn ƒë·ªô tr√™n m·ªçi thi·∫øt b·ªã. Kh√°m ph√° h∆°n 3.000 t·ª´ v·ª±ng thi·∫øt y·∫øu k√®m IPA, chi·∫øn l∆∞·ª£c ng·ªØ ph√°p v√† m√¥ ph·ªèng b√†i thi th·ª±c t·∫ø ƒë·ªÉ chinh ph·ª•c m·ª•c ti√™u ƒëi·ªÉm s·ªë m∆° ∆∞·ªõc.</p>
                <div class="hero-actions">
                    <a class="btn btn-primary" href="#assessment">L√†m b√†i ƒë√°nh gi√° ƒë·∫ßu v√†o</a>
                    <a class="btn btn-outline" href="#planner">X√¢y l·ªô tr√¨nh h·ªçc c√° nh√¢n</a>
                </div>
                <div class="hero-highlights">
                    <div class="highlight">
                        <span>+3.000</span>
                        T·ª´ v·ª±ng TOEIC tr·ªçng t√¢m k√®m IPA, h√¨nh ·∫£nh v√† √¢m thanh chu·∫©n.
                    </div>
                    <div class="highlight">
                        <span>100%</span>
                        T∆∞∆°ng th√≠ch PC & mobile v·ªõi ƒë·ªìng b·ªô ƒë√°m m√¢y t·ª©c th·ªùi.
                    </div>
                    <div class="highlight">
                        <span>24/7</span>
                        H·ªó tr·ª£ h·ªçc t·∫≠p, gi·∫£i ƒë√°p qua live chat v√† trung t√¢m tr·ª£ gi√∫p.
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <img src="https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?auto=format&fit=crop&w=900&q=80" alt="Ng∆∞·ªùi h·ªçc TOEIC" style="width:100%;max-width:420px;border-radius:28px;border:1px solid rgba(148,163,184,0.3);box-shadow:0 25px 45px rgba(56,189,248,0.22);">
=======
    <div id="tutorial-overlay" aria-hidden="true">
        <div class="tutorial-card" role="dialog" aria-modal="true">
            <h2>Ch√†o m·ª´ng ƒë·∫øn Learn English ToTo</h2>
            <p id="tutorial-text">Kh·ªüi ƒë·ªông l·ªô tr√¨nh TOEIC v·ªõi b√†i ƒë√°nh gi√° tr√¨nh ƒë·ªô ƒë·∫ßu v√†o.</p>
            <div class="tutorial-progress" id="tutorial-progress"></div>
            <div class="hero-actions" style="justify-content:center;">
                <button class="btn btn-outline" id="skip-tutorial">B·ªè qua</button>
                <button class="btn btn-primary" id="next-tutorial">Ti·∫øp t·ª•c</button>
            </div>
        </div>
    </div>

    <header class="hero" id="top">
        <div class="hero-inner">
            <div class="hero-text">
                <div class="badge">Phi√™n b·∫£n Beta cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</div>
                <h1>L·ªô tr√¨nh TOEIC 360¬∞ v·ªõi c√°c t√≠nh nƒÉng ho·∫°t ƒë·ªông th·ª±c t·∫ø</h1>
                <p>T·ª´ b√†i test x√°c ƒë·ªãnh level, luy·ªán t·ª´ v·ª±ng ƒëa gi√°c quan, nghe ch·∫≠m c√≥ ph·ª• ƒë·ªÅ, t·ªõi m√¥ ph·ªèng b√†i thi v√† b√°o c√°o chi ti·∫øt. T·∫•t c·∫£ ƒë∆∞·ª£c ƒë·ªìng b·ªô, gamify v√† t·ªëi ∆∞u cho m·ªçi thi·∫øt b·ªã.</p>
                <div class="hero-actions">
                    <button class="btn btn-primary" id="start-placement">L√†m Placement Test</button>
                    <button class="btn btn-outline" id="open-planner">M·ªü Study Planner</button>
                    <button class="btn btn-ghost" id="open-tutorial">Xem h∆∞·ªõng d·∫´n</button>
                </div>
                <ul class="list-inline" style="margin-top:1.5rem;">
                    <li>Offline mode &amp; ƒë·ªìng b·ªô</li>
                    <li>Voice command &amp; speech recognition</li>
                    <li>T√≠nh ƒëi·ªÉm, ph√¢n t√≠ch &amp; ch·ª©ng ch·ªâ</li>
                </ul>
            </div>
            <div class="hero-visual">
                <canvas id="hero-chart" width="420" height="320" aria-hidden="true"></canvas>
                <div style="margin-top:1.5rem; display:grid; gap:0.6rem;">
                    <div class="stat">
                        <span>Target Score</span>
                        <strong id="hero-target-score">650</strong>
                        <progress id="hero-target-progress" value="0" max="990"></progress>
                    </div>
                    <div class="stat">
                        <span>Chu·ªói ng√†y h·ªçc</span>
                        <strong id="hero-streak">0</strong>
                        <span style="color:var(--muted);">M·ª•c ti√™u: 21 ng√†y</span>
                    </div>
                </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            </div>
        </div>
    </header>

<<<<<<< HEAD
    <main>
        <section id="assessment">
            <div class="section-heading">
                <h2>H·ªá th·ªëng Level Assessment to√†n di·ªán</h2>
                <p>X√°c ƒë·ªãnh ch√≠nh x√°c nƒÉng l·ª±c kh·ªüi ƒëi·ªÉm, ƒë·∫∑t m·ª•c ti√™u TOEIC r√µ r√†ng v√† theo d√µi ti·∫øn ƒë·ªô nh·ªù ph√¢n t√≠ch d·ªØ li·ªáu th√¥ng minh.</p>
            </div>
            <div class="feature-grid">
                <article class="card">
                    <span class="icon">üß≠</span>
                    <h3>Placement Test chu·∫©n ho√°</h3>
                    <p>B√†i test ƒë·∫ßu v√†o th√≠ch ·ª©ng theo c√¢u tr·∫£ l·ªùi ƒë·ªÉ ƒë√°nh gi√° Reading & Listening, t·∫°o n·ªÅn t·∫£ng ph√π h·ª£p cho l·ªô tr√¨nh m·ªõi b·∫Øt ƒë·∫ßu.</p>
                </article>
                <article class="card">
                    <span class="icon">üéß</span>
                    <h3>TOEIC Simulator</h3>
                    <p>M√¥ ph·ªèng ƒë·ªÅ thi TOEIC c·∫≠p nh·∫≠t m·ªõi nh·∫•t, giao di·ªán gi·ªëng b√†i thi th·∫≠t, c√≥ ch·∫ø ƒë·ªô ph√¢n t√≠ch c√¢u tr·∫£ l·ªùi t·ª´ng ph·∫ßn.</p>
                </article>
                <article class="card">
                    <span class="icon">üìä</span>
                    <h3>Progress Tracking</h3>
                    <p>Bi·ªÉu ƒë·ªì ti·∫øn ƒë·ªô theo tu·∫ßn/th√°ng, so s√°nh ƒëi·ªÉm Listening - Reading, ghi nh·∫≠n th·ªùi gian h·ªçc v√† t·ªâ l·ªá ch√≠nh x√°c.</p>
                </article>
                <article class="card">
                    <span class="icon">üéØ</span>
                    <h3>Target Score Setting</h3>
                    <p>ƒê·∫∑t m·ª•c ti√™u ƒëi·ªÉm TOEIC, nh·∫≠n nh·∫Øc nh·ªü v√† g·ª£i √Ω b√†i h·ªçc ph√π h·ª£p ƒë·ªÉ thu h·∫πp kho·∫£ng c√°ch v·ªõi m·ª•c ti√™u.</p>
                </article>
=======
    <nav class="quick-nav" aria-label="ƒêi·ªÅu h∆∞·ªõng nhanh">
        <ul>
            <li><a href="#assessment">Level Assessment</a></li>
            <li><a href="#vocabulary">Vocabulary Lab</a></li>
            <li><a href="#grammar">Grammar Studio</a></li>
            <li><a href="#listening">Listening Hub</a></li>
            <li><a href="#practice">TOEIC Practice</a></li>
            <li><a href="#mock-tests">Mock Tests</a></li>
            <li><a href="#study-planner">Study Planner</a></li>
            <li><a href="#tools">C√¥ng c·ª• t∆∞∆°ng t√°c</a></li>
            <li><a href="#gamification">Gamification</a></li>
            <li><a href="#responsive">Responsive</a></li>
            <li><a href="#cross-platform">ƒê·ªìng b·ªô</a></li>
            <li><a href="#beginner">H·ªó tr·ª£ ng∆∞·ªùi m·ªõi</a></li>
            <li><a href="#support">H·ªó tr·ª£ h·ªçc t·∫≠p</a></li>
            <li><a href="#adaptation">Th√≠ch ·ª©ng n·ªôi dung</a></li>
            <li><a href="#tracking">Theo d√µi &amp; ƒë√°nh gi√°</a></li>
            <li><a href="#reporting">B√°o c√°o &amp; ch·ª©ng ch·ªâ</a></li>
        </ul>
    </nav>

    <main>
        <section id="assessment">
            <div class="section-heading">
                <h2>H·ªá th·ªëng Level Assessment</h2>
                <p>B·∫Øt ƒë·∫ßu b·∫±ng vi·ªác x√°c ƒë·ªãnh tr√¨nh ƒë·ªô hi·ªán t·∫°i, m√¥ ph·ªèng b√†i thi TOEIC, ƒë·∫∑t m·ª•c ti√™u v√† theo d√µi ti·∫øn b·ªô b·∫±ng bi·ªÉu ƒë·ªì c·∫≠p nh·∫≠t t·ª± ƒë·ªông.</p>
            </div>
            <div class="grid-2" style="margin-bottom:1.5rem;">
                <div class="card">
                    <h3>ƒê·∫∑t m·ª•c ti√™u ƒëi·ªÉm TOEIC</h3>
                    <p>Ch·ªçn m·ª•c ti√™u ƒë·ªÉ h·ªá th·ªëng c√° nh√¢n h√≥a g·ª£i √Ω h·ªçc t·∫≠p v√† gamification.</p>
                    <input type="range" id="target-score-input" min="200" max="990" step="5">
                    <div style="display:flex; justify-content:space-between; margin:0.6rem 0;">
                        <span>ƒêi·ªÉm hi·ªán t·∫°i ∆∞·ªõc t√≠nh: <strong id="current-score-est">0</strong></span>
                        <span>M·ª•c ti√™u: <strong id="target-score-display">650</strong></span>
                    </div>
                    <progress id="target-progress" value="0" max="1"></progress>
                    <button class="btn btn-outline" id="save-target-score" style="margin-top:1rem;">L∆∞u m·ª•c ti√™u</button>
                    <p style="font-size:0.85rem; color:var(--muted); margin-top:0.8rem;">G·ª£i √Ω: ƒë·∫∑t m·ª•c ti√™u cao h∆°n 100 ƒëi·ªÉm so v·ªõi tr√¨nh ƒë·ªô hi·ªán t·∫°i ƒë·ªÉ ƒë·∫£m b·∫£o th·ª≠ th√°ch v·ª´a ph·∫£i.</p>
                </div>
                <div class="card">
                    <h3>Progress Tracking</h3>
                    <canvas id="progress-chart" class="chart" aria-label="Bi·ªÉu ƒë·ªì ƒëi·ªÉm TOEIC theo th·ªùi gian"></canvas>
                    <ul id="assessment-history" class="list-inline" style="margin-top:1rem;"></ul>
                </div>
            </div>
            <div class="grid-2">
                <div class="card" id="placement-test-card">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h3>Placement Test</h3>
                        <span class="pill" id="placement-level-pill">Ch∆∞a l√†m</span>
                    </div>
                    <form id="placement-test-form"></form>
                    <div id="placement-result" style="margin-top:1rem;"></div>
                </div>
                <div class="card">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h3>TOEIC Simulator</h3>
                        <span class="pill">Timer 15'</span>
                    </div>
                    <p>Tr·∫£i nghi·ªám c·∫•u tr√∫c ƒë·ªÅ TOEIC v·ªõi c√¢u h·ªèi Listening &amp; Reading chu·∫©n h√≥a. C√≥ b·ªô ƒë·∫øm th·ªùi gian, ch·∫•m ƒëi·ªÉm ngay v√† ph√¢n t√≠ch l·ªói.</p>
                    <div class="stat" style="margin:1rem 0;">
                        <span>L·∫ßn g·∫ßn nh·∫•t</span>
                        <strong id="simulator-last-score">Ch∆∞a c√≥</strong>
                        <small id="simulator-last-date" style="color:var(--muted);"></small>
                    </div>
                    <button class="btn btn-primary" id="start-simulator">B·∫Øt ƒë·∫ßu m√¥ ph·ªèng</button>
                    <button class="btn btn-outline" id="view-simulator-history" style="margin-top:0.6rem;">L·ªãch s·ª≠ m√¥ ph·ªèng</button>
                    <div id="simulator-history" style="margin-top:1rem; display:none;"></div>
                </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            </div>
        </section>

        <section id="vocabulary">
            <div class="section-heading">
<<<<<<< HEAD
                <h2>H·ªçc t·ª´ v·ª±ng TOEIC ƒëa gi√°c quan</h2>
                <p>B·ªï sung v·ªën t·ª´ v·ª±ng n·ªÅn t·∫£ng v·ªõi h√¨nh ·∫£nh, √¢m thanh, phi√™n √¢m IPA v√† l·ªãch tr√¨nh l·∫∑p l·∫°i th√¥ng minh ƒë·ªÉ ghi nh·ªõ b·ªÅn v·ªØng.</p>
            </div>
            <div class="feature-grid">
                <article class="card">
                    <span class="icon">üìö</span>
                    <h3>Essential TOEIC Words</h3>
                    <p>3.000+ t·ª´ v·ª±ng ph√¢n lo·∫°i theo ch·ªß ƒë·ªÅ ph·ªï bi·∫øn, k√®m phi√™n √¢m IPA, nghƒ©a song ng·ªØ v√† collocations th·ª±c t·∫ø.</p>
                </article>
                <article class="card">
                    <span class="icon">üñºÔ∏è</span>
                    <h3>Visual Flashcards</h3>
                    <p>Th·∫ª t·ª´ minh ho·∫° b·∫±ng h√¨nh ·∫£nh r√µ r√†ng, c√≥ ch·∫ø ƒë·ªô h·ªçc nhanh, ƒë·∫£o chi·ªÅu, g·ª£i nh·ªõ qua m√†u s·∫Øc.</p>
                </article>
                <article class="card">
                    <span class="icon">üîä</span>
                    <h3>Audio Pronunciation</h3>
                    <p>Ph√°t √¢m chu·∫©n gi·ªçng M·ªπ & Anh, t·ªëc ƒë·ªô ƒëi·ªÅu ch·ªânh, ƒëi k√®m bi·ªÉu ƒë·ªì kh·∫©u h√¨nh v√† h∆∞·ªõng d·∫´n nh·∫•n √¢m.</p>
                </article>
                <article class="card">
                    <span class="icon">‚è∞</span>
                    <h3>Spaced Repetition</h3>
                    <p>Thu·∫≠t to√°n √¥n t·∫≠p c√°ch qu√£ng t·ª± ƒëi·ªÅu ch·ªânh, g·ª≠i nh·∫Øc nh·ªü h·ªçc t·ª´ v·ª±ng v√† luy·ªán l·∫°i nh·ªØng t·ª´ d·ªÖ qu√™n.</p>
                </article>
                <article class="card">
                    <span class="icon">üåü</span>
                    <h3>Word of the Day</h3>
                    <p>T·ª´ v·ª±ng m·ªõi m·ªói ng√†y v·ªõi video ng·∫Øn, v√≠ d·ª• h·ªôi tho·∫°i v√† mini quiz ki·ªÉm tra ngay l·∫≠p t·ª©c.</p>
                </article>
                <article class="card">
                    <span class="icon">üí¨</span>
                    <h3>Context Examples</h3>
                    <p>C√¢u v√≠ d·ª• th·ª±c t·∫ø theo b·ªëi c·∫£nh c√¥ng vi·ªác, email, h·ªôi tho·∫°i gi√∫p √°p d·ª•ng t·ª´ v·ª±ng ƒë√∫ng t√¨nh hu·ªëng.</p>
                </article>
=======
                <h2>Vocabulary Lab</h2>
                <p>3000+ t·ª´ TOEIC v·ªõi IPA, v√≠ d·ª• th·ª±c t·∫ø, flashcard h√¨nh ·∫£nh, √¢m thanh chu·∫©n, Word of the Day v√† thu·∫≠t to√°n spaced repetition.</p>
            </div>
            <div class="grid-2" style="margin-bottom:1.5rem;">
                <div class="card">
                    <h3>Word of the Day</h3>
                    <div class="flashcard" id="word-of-day"></div>
                    <button class="btn btn-outline" id="refresh-word-day" style="margin-top:1rem;">ƒê·ªïi t·ª´ h√¥m nay</button>
                </div>
                <div class="card">
                    <h3>Spaced Repetition Queue</h3>
                    <div id="spaced-repetition-list" style="display:grid; gap:0.6rem;"></div>
                    <button class="btn btn-primary" id="start-repetition" style="margin-top:1rem;">√în t·∫≠p ngay</button>
                    <p class="swipe-hint">H·ªá th·ªëng t·ª± ƒë·ªông ƒë·∫∑t l·ªãch 10' - 1h - 1 ng√†y - 3 ng√†y - 1 tu·∫ßn.</p>
                </div>
            </div>
            <div class="grid-2">
                <div class="card">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h3>Visual Flashcards</h3>
                        <button class="btn btn-outline" id="toggle-visual-mode">Ch·∫ø ƒë·ªô th·ªã gi√°c</button>
                    </div>
                    <div class="flashcard" id="flashcard"></div>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="play-word-audio">Nghe ph√°t √¢m</button>
                        <button class="btn btn-outline" id="mark-easy">D·ªÖ</button>
                        <button class="btn btn-outline" id="mark-hard">C·∫ßn √¥n l·∫°i</button>
                        <button class="btn btn-ghost" id="show-context">V√≠ d·ª• ng·ªØ c·∫£nh</button>
                    </div>
                </div>
                <div class="card">
                    <h3>Essential TOEIC words</h3>
                    <input type="search" id="word-search" placeholder="T√¨m ki·∫øm t·ª´ v·ª±ng, ch·ªß ƒë·ªÅ ho·∫∑c IPA">
                    <div id="word-list" style="margin-top:1rem; max-height:320px; overflow-y:auto; display:grid; gap:0.6rem;"></div>
                </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            </div>
        </section>

        <section id="grammar">
            <div class="section-heading">
<<<<<<< HEAD
                <h2>Ng·ªØ ph√°p c∆° b·∫£n d·ªÖ hi·ªÉu ‚Äì luy·ªán t·∫≠p c√≥ ph·∫£n h·ªìi</h2>
                <p>C·ªßng c·ªë c·∫•u tr√∫c n·ªÅn t·∫£ng v·ªõi b√†i gi·∫£ng video, b√†i t·∫≠p t∆∞∆°ng t√°c v√† c√¥ng c·ª• ki·ªÉm tra l·ªói ng·ªØ ph√°p t·ª± ƒë·ªông.</p>
            </div>
            <div class="feature-grid">
                <article class="card">
                    <span class="icon">üìò</span>
                    <h3>Grammar Lessons</h3>
                    <p>H∆°n 50 b√†i gi·∫£ng ng·∫Øn g·ªçn, minh ho·∫° b·∫±ng bi·ªÉu ƒë·ªì v√† v√≠ d·ª• ƒë·ªùi s·ªëng.</p>
                </article>
                <article class="card">
                    <span class="icon">üß†</span>
                    <h3>Interactive Exercises</h3>
                    <p>B√†i t·∫≠p k√©o-th·∫£, ch·ªçn ƒë√°p √°n, ƒëi·ªÅn t·ª´ v·ªõi ph·∫£n h·ªìi t·ª©c th√¨ v√† gi·∫£i th√≠ch chi ti·∫øt.</p>
                </article>
                <article class="card">
                    <span class="icon">üõ†Ô∏è</span>
                    <h3>Grammar Checker</h3>
                    <p>Tr√¨nh ki·ªÉm tra l·ªói ng·ªØ ph√°p ti·∫øng Anh c∆° b·∫£n, g·ª£i √Ω ch·ªânh s·ª≠a v√† gi·∫£i th√≠ch quy t·∫Øc.</p>
                </article>
                <article class="card">
                    <span class="icon">üìë</span>
                    <h3>Rule Explanations</h3>
                    <p>Gi·∫£i th√≠ch t·ª´ng quy t·∫Øc b·∫±ng ti·∫øng Vi·ªát, b·∫£ng so s√°nh c√°c th√¨, c·∫•u tr√∫c c√¢u th√¥ng d·ª•ng.</p>
                </article>
                <article class="card">
                    <span class="icon">üéØ</span>
                    <h3>Practice Drills</h3>
                    <p>B·ªô ƒë·ªÅ luy·ªán t·∫≠p chuy√™n s√¢u theo ch·ªß ƒëi·ªÉm, c√≥ h·ªá th·ªëng ƒë√°nh d·∫•u c√¢u d·ªÖ sai.</p>
                </article>
=======
                <h2>Grammar Studio</h2>
                <p>H·ªçc ng·ªØ ph√°p qua b√†i h·ªçc ng·∫Øn g·ªçn, b√†i t·∫≠p t∆∞∆°ng t√°c, ki·ªÉm tra l·ªói nhanh v√† c√°c b√†i luy·ªán t·∫≠p chuy√™n s√¢u.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>B√†i h·ªçc ng·ªØ ph√°p</h3>
                    <div class="accordion" id="grammar-lessons"></div>
                </div>
                <div class="card">
                    <h3>Interactive Exercises</h3>
                    <div id="grammar-exercises"></div>
                    <button class="btn btn-primary" id="submit-grammar-exercise" style="margin-top:1rem;">Ch·∫•m ƒëi·ªÉm</button>
                    <div id="grammar-exercise-result" style="margin-top:1rem;"></div>
                </div>
                <div class="card">
                    <h3>Grammar Checker</h3>
                    <textarea id="grammar-check-input" placeholder="Nh·∫≠p c√¢u ti·∫øng Anh c·ªßa b·∫°n..."></textarea>
                    <button class="btn btn-outline" id="run-grammar-check" style="margin-top:0.8rem;">Ki·ªÉm tra l·ªói</button>
                    <ul id="grammar-check-result" style="margin-top:1rem; padding-left:1.1rem;"></ul>
                    <div style="margin-top:1.2rem;">
                        <h4>Practice Drills</h4>
                        <button class="btn btn-ghost" id="start-practice-drill">B·∫Øt ƒë·∫ßu luy·ªán t·∫≠p 10 c√¢u</button>
                        <div id="practice-drill-status" style="margin-top:0.8rem;"></div>
                    </div>
                </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
            </div>
        </section>

        <section id="listening">
            <div class="section-heading">
<<<<<<< HEAD
                <h2>Luy·ªán Listening t·ª´ng b∆∞·ªõc cho ng∆∞·ªùi m·ªõi</h2>
                <p>K·∫øt h·ª£p √¢m thanh ch·∫≠m, ph·ª• ƒë·ªÅ v√† g·ª£i √Ω h√¨nh ·∫£nh gi√∫p ng∆∞·ªùi m·ªõi t·∫≠p trung nghe hi·ªÉu tr∆∞·ªõc khi tƒÉng d·∫ßn t·ªëc ƒë·ªô.</p>
            </div>
            <div class="feature-grid">
                <article class="card">
                    <span class="icon">üê¢</span>
                    <h3>Slow Speech Mode</h3>
                    <p>T·ªëc ƒë·ªô n√≥i 0.75x‚Äì1.0x, chuy·ªÉn ƒë·ªïi linh ho·∫°t ƒë·ªÉ b·∫Øt k·ªãp ph√°t √¢m v√† nh·ªãp ƒëi·ªáu c√¢u.</p>
                </article>
                <article class="card">
                    <span class="icon">üìú</span>
                    <h3>Transcript Available</h3>
                    <p>Script song song ti·∫øng Anh ‚Äì ti·∫øng Vi·ªát, highlight ƒëo·∫°n ch∆∞a nghe r√µ ƒë·ªÉ luy·ªán l·∫°i.</p>
                </article>
                <article class="card">
                    <span class="icon">üîÅ</span>
                    <h3>Repeat Function</h3>
                    <p>T√πy ch·ªçn l·∫∑p c√¢u/ƒëo·∫°n, ch·∫ø ƒë·ªô shadowing v√† ghi nh·ªõ t·ª´ kh√≥.</p>
                </article>
                <article class="card">
                    <span class="icon">üñºÔ∏è</span>
                    <h3>Visual Cues</h3>
                    <p>H√¨nh ·∫£nh g·ª£i √Ω n·ªôi dung cu·ªôc h·ªôi tho·∫°i gi√∫p li√™n k·∫øt √¢m thanh v√† b·ªëi c·∫£nh.</p>
                </article>
                <article class="card">
                    <span class="icon">üìà</span>
                    <h3>Progressive Difficulty</h3>
                    <p>B√†i nghe x·∫øp theo c·∫•p ƒë·ªô t·ª´ A1 ƒë·∫øn B1, tƒÉng d·∫ßn ƒë·ªô d√†i v√† t·ª´ v·ª±ng n√¢ng cao.</p>
                </article>
            </div>
        </section>

        <section id="toeic-practice">
            <div class="section-heading">
                <h2>Luy·ªán thi TOEIC chuy√™n bi·ªát</h2>
                <p>T·∫≠p trung v√†o t·ª´ng ph·∫ßn thi Listening v√† Reading v·ªõi timer, b·∫£ng ƒëi·ªÉm t·ª©c th√¨ v√† ph√¢n t√≠ch chi ti·∫øt.</p>
            </div>
            <div class="feature-matrix">
                <div class="matrix-group">
                    <h3>Listening Section Practice</h3>
                    <ul>
                        <li>Part 1 ‚Äì Photographs: m√¥ t·∫£ tranh chi ti·∫øt, k√®m t·ª´ kho√°.</li>
                        <li>Part 2 ‚Äì Question-Response: luy·ªán ph·∫£n x·∫° h·ªèi ƒë√°p.</li>
                        <li>Part 3 ‚Äì Short Conversations: h·ªôi tho·∫°i ng·∫Øn v·ªõi ch√∫ th√≠ch.</li>
                        <li>Part 4 ‚Äì Short Talks: b√†i n√≥i d√†i, c√≥ timer chu·∫©n TOEIC.</li>
                        <li>Timer Practice: ƒëi·ªÅu ch·ªânh th·ªùi gian theo ƒë·ªÅ th·∫≠t.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Reading Section Practice</h3>
                    <ul>
                        <li>Part 5 ‚Äì Incomplete Sentences: luy·ªán ng·ªØ ph√°p, t·ª´ v·ª±ng.</li>
                        <li>Part 6 ‚Äì Text Completion: ƒëi·ªÅn ƒëo·∫°n vƒÉn, ch√∫ √Ω m·∫°ch vƒÉn.</li>
                        <li>Part 7 ‚Äì Reading Comprehension: b√†i ƒë·ªçc ƒë∆°n & k√©p.</li>
                        <li>Speed Reading Tips: k·ªπ thu·∫≠t ƒë·ªçc nhanh, t·∫≠p trung.</li>
                        <li>Skimming & Scanning: luy·ªán ƒë·ªçc l∆∞·ªõt v√† t√¨m th√¥ng tin.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Mock Tests & Ph√¢n t√≠ch</h3>
                    <ul>
                        <li>Full-length Practice Tests: 2 ti·∫øng theo ƒë·ªãnh d·∫°ng th·∫≠t.</li>
                        <li>Mini Tests: 30‚Äì45 ph√∫t, ph√π h·ª£p luy·ªán t·∫≠p h√†ng ng√†y.</li>
                        <li>Instant Scoring: ch·∫•m ƒëi·ªÉm v√† quy ƒë·ªïi band ngay sau b√†i.</li>
                        <li>Detailed Explanations: gi·∫£i th√≠ch ƒë√°p √°n, t·ª´ v·ª±ng li√™n quan.</li>
                        <li>Performance Analysis: nh·∫≠n di·ªán ƒëi·ªÉm m·∫°nh/y·∫øu t·ª´ng ph·∫ßn.</li>
                    </ul>
=======
                <h2>Listening Hub</h2>
                <p>Nghe t·ªëc ƒë·ªô ch·∫≠m, c√≥ transcript, l·∫∑p l·∫°i, g·ª£i √Ω h√¨nh ·∫£nh v√† ƒë·ªô kh√≥ tƒÉng d·∫ßn. H·ªó tr·ª£ luy·ªán ph√°t √¢m v·ªõi AI.</p>
            </div>
            <div class="grid-2" style="margin-bottom:1.5rem;">
                <div class="card">
                    <h3>Listening Lab</h3>
                    <label for="listening-difficulty">Ch·ªçn ƒë·ªô kh√≥</label>
                    <select id="listening-difficulty">
                        <option value="easy">Beginner</option>
                        <option value="medium">Intermediate</option>
                        <option value="hard">Advanced</option>
                    </select>
                    <div id="listening-track" class="listening-track" style="margin-top:1rem;"></div>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="play-slow">Nghe ch·∫≠m</button>
                        <button class="btn btn-outline" id="play-normal">Nghe chu·∫©n</button>
                        <button class="btn btn-outline" id="repeat-audio">L·∫∑p l·∫°i</button>
                    </div>
                    <p id="listening-visual" style="margin-top:1rem;"></p>
                </div>
                <div class="card">
                    <h3>Listening Progress</h3>
                    <progress id="listening-progress" value="0" max="100"></progress>
                    <div style="display:grid; gap:0.6rem; margin-top:1rem;">
                        <div class="stat">
                            <span>Transcript</span>
                            <small id="listening-transcript" style="color:var(--muted);"></small>
                        </div>
                        <div class="stat">
                            <span>S·ªë l·∫ßn l·∫∑p l·∫°i</span>
                            <strong id="repeat-count">0</strong>
                        </div>
                        <div class="stat">
                            <span>ƒê·ªô kh√≥ hi·ªán t·∫°i</span>
                            <strong id="listening-level-text">Beginner</strong>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="practice">
            <div class="section-heading">
                <h2>TOEIC Practice chuy√™n bi·ªát</h2>
                <p>Luy·ªán ƒë·ªß c√°c Part c·ªßa Listening &amp; Reading v·ªõi timer, gi·∫£i th√≠ch chi ti·∫øt, k·ªπ thu·∫≠t ƒë·ªçc nhanh v√† chi·∫øn thu·∫≠t skimming &amp; scanning.</p>
            </div>
            <div class="card">
                <div class="tab-list" role="tablist">
                    <button class="active" data-tab="listening-part" role="tab">Listening Section</button>
                    <button data-tab="reading-part" role="tab">Reading Section</button>
                    <button data-tab="speed-reading" role="tab">Speed Reading</button>
                </div>
                <div class="tab-panel active" id="listening-part" role="tabpanel">
                    <div class="grid-2" id="listening-parts"></div>
                    <button class="btn btn-outline" id="start-timer" style="margin-top:1.2rem;">B·∫Øt ƒë·∫ßu timer 5 ph√∫t</button>
                    <div class="timer" id="practice-timer" aria-live="polite" style="margin-top:0.6rem;">05:00</div>
                </div>
                <div class="tab-panel" id="reading-part" role="tabpanel">
                    <div class="grid-2" id="reading-parts"></div>
                    <div style="margin-top:1.2rem;">
                        <h4>Skimming &amp; Scanning Trainer</h4>
                        <p>ƒê√°nh d·∫•u th√¥ng tin quan tr·ªçng trong ƒëo·∫°n vƒÉn d∆∞·ªõi 45 gi√¢y.</p>
                        <div id="skimming-text" style="background:rgba(15,23,42,0.4); padding:1rem; border-radius:14px;"></div>
                        <button class="btn btn-outline" id="highlight-answer" style="margin-top:0.8rem;">Hi·ªán g·ª£i √Ω</button>
                    </div>
                </div>
                <div class="tab-panel" id="speed-reading" role="tabpanel">
                    <div class="split-screen">
                        <div>
                            <h3>Speed Reading Tips</h3>
                            <ul id="speed-reading-tips" style="padding-left:1.2rem;"></ul>
                            <button class="btn btn-ghost" id="start-speed-test">B·∫Øt ƒë·∫ßu ƒëo t·ªëc ƒë·ªô</button>
                        </div>
                        <div>
                            <h3>Reading Stopwatch</h3>
                            <p id="speed-reading-text" style="background:rgba(15,23,42,0.45); padding:1rem; border-radius:14px;"></p>
                            <div class="flashcard-actions">
                                <button class="btn btn-primary" id="speed-start">Start</button>
                                <button class="btn btn-outline" id="speed-stop">Stop</button>
                                <button class="btn btn-ghost" id="speed-reset">Reset</button>
                            </div>
                            <div style="margin-top:0.6rem;">
                                <span>Th·ªùi gian: <strong id="speed-time">00:00</strong></span><br>
                                <span>T·ªëc ƒë·ªô ∆∞·ªõc t√≠nh: <strong id="speed-wpm">0 wpm</strong></span>
                            </div>
                        </div>
                    </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
                </div>
            </div>
        </section>

<<<<<<< HEAD
        <section id="planner">
            <div class="section-heading">
                <h2>Study Planner th√¥ng minh</h2>
                <p>T·ªï ch·ª©c l·ªãch h·ªçc, theo d√µi milestone v√† gi·ªØ ƒë·ªông l·ª±c m·ªói ng√†y v·ªõi nh·∫Øc nh·ªü v√† ph√¢n t√≠ch th·ªùi gian h·ªçc.</p>
            </div>
            <div class="feature-grid">
                <article class="card">
                    <span class="icon">üß≠</span>
                    <h3>Personalized Study Path</h3>
                    <p>L·ªô tr√¨nh h·ªçc c√° nh√¢n d·ª±a tr√™n m·ª•c ti√™u ƒëi·ªÉm v√† k·∫øt qu·∫£ placement test.</p>
                </article>
                <article class="card">
                    <span class="icon">üóìÔ∏è</span>
                    <h3>Daily Goals</h3>
                    <p>M·ª•c ti√™u h·ªçc t·∫≠p h√†ng ng√†y, t·ªïng h·ª£p ti·∫øn ƒë·ªô v√† streak.</p>
                </article>
                <article class="card">
                    <span class="icon">üîî</span>
                    <h3>Study Reminders</h3>
                    <p>Nh·∫Øc nh·ªü qua email/app, ƒë·ªìng b·ªô l·ªãch Google/Apple.</p>
                </article>
                <article class="card">
                    <span class="icon">üìÖ</span>
                    <h3>Calendar Integration</h3>
                    <p>K√©o th·∫£ l·ªãch h·ªçc v√†o calendar c√° nh√¢n, xem plan to√†n tu·∫ßn.</p>
                </article>
                <article class="card">
                    <span class="icon">üèÅ</span>
                    <h3>Progress Milestones</h3>
                    <p>C·ªôt m·ªëc quan tr·ªçng v·ªõi ph·∫ßn th∆∞·ªüng, h∆∞·ªõng d·∫´n √¥n t·∫≠p giai ƒëo·∫°n.</p>
                </article>
            </div>
        </section>

        <section id="tools">
            <div class="section-heading">
                <h2>Interactive Learning Tools & Gamification</h2>
                <p>C√¥ng c·ª• luy·ªán ph√°t √¢m AI, nh·∫≠n di·ªán gi·ªçng n√≥i v√† h·ªá th·ªëng gamification gi√∫p gi·ªØ v·ªØng ƒë·ªông l·ª±c h·ªçc t·∫≠p.</p>
            </div>
            <div class="grid-two">
                <div class="matrix-group" style="background: rgba(15,23,42,0.7); border-color: rgba(192,132,252,0.28);">
                    <h3>Interactive Learning Tools</h3>
                    <ul>
                        <li>Pronunciation Trainer: AI ƒë√°nh gi√° kh·∫©u h√¨nh & √¢m s·∫Øc.</li>
                        <li>Speech Recognition: nh·∫≠n di·ªán gi·ªçng n√≥i, b√°o l·ªói ph√°t √¢m.</li>
                        <li>Record & Compare: ghi √¢m v√† so s√°nh v·ªõi b·∫£n chu·∫©n.</li>
                        <li>Phonetic Guide: h∆∞·ªõng d·∫´n IPA, b·∫£ng ch·ªØ c√°i √¢m v·ªã.</li>
                        <li>Mouth Position Videos: video c·∫≠n c·∫£nh v·ªã tr√≠ mi·ªáng.</li>
                    </ul>
                </div>
                <div class="matrix-group" style="background: rgba(15,23,42,0.7); border-color: rgba(244,114,182,0.28);">
                    <h3>Gamification Elements</h3>
                    <ul>
                        <li>Points & Badges: t√≠ch ƒëi·ªÉm ƒë·ªïi huy hi·ªáu theo ch·ªß ƒë·ªÅ.</li>
                        <li>Learning Streaks: chu·ªói ng√†y h·ªçc li√™n t·ª•c v·ªõi ph·∫ßn th∆∞·ªüng.</li>
                        <li>Leaderboards: b·∫£ng x·∫øp h·∫°ng theo l·ªõp, nh√≥m b·∫°n.</li>
                        <li>Achievements: m·ªü kho√° th√†nh t·ª±u khi ho√†n th√†nh milestone.</li>
                        <li>Daily Challenges: th·ª≠ th√°ch mini m·ªói ng√†y gi·ªØ nh·ªãp h·ªçc.</li>
                    </ul>
=======
        <section id="mock-tests">
            <div class="section-heading">
                <h2>Mock Tests &amp; Ph√¢n t√≠ch</h2>
                <p>Ch·ªçn full test 2 ti·∫øng ho·∫∑c mini test 30-45 ph√∫t, ch·∫•m ƒëi·ªÉm t·ª©c th√¨, gi·∫£i th√≠ch chi ti·∫øt v√† ph√¢n t√≠ch ƒëi·ªÉm m·∫°nh y·∫øu.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Full-length practice test</h3>
                    <p>200 c√¢u v·ªõi timer 120 ph√∫t. C·∫•u tr√∫c chu·∫©n TOEIC.</p>
                    <button class="btn btn-primary" data-test="full" id="start-full-test">B·∫Øt ƒë·∫ßu full test</button>
                </div>
                <div class="card">
                    <h3>Mini test 30 ph√∫t</h3>
                    <p>G·ªìm 40 c√¢u tr·ªçng t√¢m cho ng∆∞·ªùi m·ªõi.</p>
                    <button class="btn btn-outline" data-test="mini" id="start-mini-test">B·∫Øt ƒë·∫ßu mini test</button>
                </div>
                <div class="card">
                    <h3>Instant scoring</h3>
                    <div id="mock-test-summary"></div>
                    <button class="btn btn-ghost" id="view-analysis" style="margin-top:0.8rem;">Xem ph√¢n t√≠ch chi ti·∫øt</button>
                </div>
            </div>
        </section>

        <section id="study-planner">
            <div class="section-heading">
                <h2>Study Planner &amp; L·ªô tr√¨nh c√° nh√¢n</h2>
                <p>T·ª± ƒë·ªông ƒë·ªÅ xu·∫•t k·∫ø ho·∫°ch h·ªçc h·∫±ng ng√†y, nh·∫Øc nh·ªü, t√≠ch h·ª£p l·ªãch v√† milestone d·ª±a tr√™n m·ª•c ti√™u ƒëi·ªÉm TOEIC.</p>
            </div>
            <div class="grid-2">
                <div class="card">
                    <h3>Personalized study path</h3>
                    <form id="planner-form">
                        <label for="daily-goal">M·ª•c ti√™u h√†ng ng√†y (ph√∫t h·ªçc)</label>
                        <input type="number" id="daily-goal" min="10" step="5">
                        <label for="vocab-goal" style="margin-top:0.8rem;">S·ªë t·ª´ v·ª±ng m·ªói ng√†y</label>
                        <input type="number" id="vocab-goal" min="5" step="5">
                        <label for="study-focus" style="margin-top:0.8rem;">∆Øu ti√™n k·ªπ nƒÉng</label>
                        <select id="study-focus">
                            <option value="listening">Listening</option>
                            <option value="reading">Reading</option>
                            <option value="grammar">Grammar</option>
                            <option value="vocabulary">Vocabulary</option>
                            <option value="speaking">Speaking</option>
                        </select>
                        <button class="btn btn-primary" style="margin-top:1rem;" type="submit">L∆∞u k·∫ø ho·∫°ch</button>
                    </form>
                    <div id="planner-summary" style="margin-top:1rem;"></div>
                    <div style="margin-top:1.2rem;">
                        <h4>Study reminders</h4>
                        <form id="reminder-form">
                            <label for="reminder-time">Gi·ªù nh·∫Øc</label>
                            <input type="time" id="reminder-time">
                            <button class="btn btn-outline" style="margin-top:0.6rem;" type="submit">Th√™m nh·∫Øc nh·ªü</button>
                        </form>
                        <ul id="reminder-list" style="margin-top:0.8rem; padding-left:1.2rem;"></ul>
                    </div>
                </div>
                <div class="card">
                    <h3>Calendar &amp; Progress milestones</h3>
                    <div id="calendar-header" style="display:flex; justify-content:space-between; align-items:center;">
                        <button class="btn btn-ghost" id="prev-month">‚óÄ</button>
                        <strong id="calendar-title"></strong>
                        <button class="btn btn-ghost" id="next-month">‚ñ∂</button>
                    </div>
                    <div class="calendar" id="calendar"></div>
                    <div style="margin-top:1rem;">
                        <h4>Milestones</h4>
                        <ul id="milestone-list" style="padding-left:1.2rem;"></ul>
                    </div>
                </div>
            </div>
        </section>
        <section id="tools">
            <div class="section-heading">
                <h2>Interactive Learning Tools</h2>
                <p>Pronunciation trainer v·ªõi AI, nh·∫≠n di·ªán gi·ªçng n√≥i, ghi √¢m so s√°nh, h∆∞·ªõng d·∫´n phi√™n √¢m v√† video kh·∫©u h√¨nh.</p>
            </div>
            <div class="grid-2" style="margin-bottom:1.5rem;">
                <div class="card">
                    <h3>Pronunciation trainer</h3>
                    <label for="pronunciation-word">Nh·∫≠p t·ª´ mu·ªën luy·ªán</label>
                    <input type="text" id="pronunciation-word" placeholder="V√≠ d·ª•: schedule">
                    <div class="flashcard-actions" style="margin-top:0.8rem;">
                        <button class="btn btn-primary" id="speak-word">Nghe m·∫´u</button>
                        <button class="btn btn-outline" id="record-word">Ghi √¢m</button>
                        <button class="btn btn-ghost" id="compare-word">So s√°nh</button>
                    </div>
                    <audio id="recording-playback" controls style="width:100%; margin-top:1rem; display:none;"></audio>
                    <div id="pronunciation-feedback" style="margin-top:0.8rem;"></div>
                </div>
                <div class="card">
                    <h3>Speech recognition &amp; Voice commands</h3>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="start-recognition">B·∫Øt ƒë·∫ßu nh·∫≠n di·ªán</button>
                        <button class="btn btn-outline" id="stop-recognition">D·ª´ng</button>
                    </div>
                    <p id="recognition-status" style="margin-top:0.8rem;">Tr·∫°ng th√°i: idle</p>
                    <div id="voice-commands" style="margin-top:1rem;"></div>
                </div>
            </div>
            <div class="grid-2">
                <div class="card">
                    <h3>Phonetic guide</h3>
                    <table id="phonetic-table"></table>
                </div>
                <div class="card">
                    <h3>Mouth position videos</h3>
                    <div style="display:grid; gap:0.8rem;">
                        <iframe width="100%" height="180" src="https://www.youtube.com/embed/1kAPHyHd7Lo" title="IPA Mouth Position" allowfullscreen></iframe>
                        <iframe width="100%" height="180" src="https://www.youtube.com/embed/YkK7A0WeN5g" title="TOEIC Pronunciation" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </section>

        <section id="gamification">
            <div class="section-heading">
                <h2>Gamification Elements</h2>
                <p>ƒêi·ªÉm th∆∞·ªüng, huy hi·ªáu, streak, leaderboard v√† th·ª≠ th√°ch h√†ng ng√†y gi√∫p duy tr√¨ ƒë·ªông l·ª±c h·ªçc.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Points &amp; badges</h3>
                    <div class="stat">
                        <span>T·ªïng ƒëi·ªÉm</span>
                        <strong id="total-points">0</strong>
                        <progress id="points-progress" value="0" max="1000"></progress>
                    </div>
                    <ul id="badge-list" style="margin-top:1rem; padding-left:1.2rem;"></ul>
                </div>
                <div class="card">
                    <h3>Learning streaks</h3>
                    <p>Ho√†n th√†nh nhi·ªám v·ª• m·ªói ng√†y ƒë·ªÉ duy tr√¨ streak.</p>
                    <div class="stat">
                        <span>Streak hi·ªán t·∫°i</span>
                        <strong id="streak-count">0</strong>
                        <span style="color:var(--muted);">D√†i nh·∫•t: <span id="max-streak">0</span> ng√†y</span>
                    </div>
                    <button class="btn btn-outline" id="log-study-day" style="margin-top:1rem;">ƒê√°nh d·∫•u ƒë√£ h·ªçc h√¥m nay</button>
                </div>
                <div class="card">
                    <h3>Leaderboards &amp; Daily challenges</h3>
                    <div id="leaderboard"></div>
                    <div style="margin-top:1rem;">
                        <h4>Daily challenge</h4>
                        <p id="daily-challenge"></p>
                        <button class="btn btn-ghost" id="complete-challenge">Ho√†n th√†nh</button>
                    </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
                </div>
            </div>
        </section>

        <section id="responsive">
            <div class="section-heading">
<<<<<<< HEAD
                <h2>Tr·∫£i nghi·ªám responsive m∆∞·ª£t m√† tr√™n PC & Mobile</h2>
                <p>Thi·∫øt k·∫ø giao di·ªán t·ªëi ∆∞u cho m·ªçi k√≠ch th∆∞·ªõc m√†n h√¨nh, ƒë·ªìng b·ªô ho√° d·ªØ li·ªáu t·ª©c th·ªùi v√† cho ph√©p h·ªçc m·ªçi l√∫c m·ªçi n∆°i.</p>
            </div>
            <div class="feature-matrix">
                <div class="matrix-group">
                    <h3>PC Desktop Version</h3>
                    <ul>
                        <li>Split Screen: chia m√†n h√¨nh gi·ªØa b√†i h·ªçc & ghi ch√∫.</li>
                        <li>Keyboard Shortcuts: ph√≠m t·∫Øt chuy·ªÉn b√†i, tr·∫£ l·ªùi nhanh.</li>
                        <li>Multiple Tabs: m·ªü nhi·ªÅu b√†i h·ªçc ho·∫∑c ƒë·ªÅ luy·ªán c√πng l√∫c.</li>
                        <li>Large Text Display: ch·∫ø ƒë·ªô ch·ªØ to gi·∫£m m·ªèi m·∫Øt.</li>
                        <li>Detailed Analytics: dashboard chi ti·∫øt v·ªõi bi·ªÉu ƒë·ªì.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Mobile Responsive Features</h3>
                    <ul>
                        <li>Touch-friendly Interface: n√∫t b·∫•m l·ªõn, thao t√°c d·ªÖ d√†ng.</li>
                        <li>Swipe Navigation: vu·ªët chuy·ªÉn b√†i h·ªçc nhanh ch√≥ng.</li>
                        <li>Offline Mode: t·∫£i b√†i h·ªçc v·ªÅ h·ªçc khi kh√¥ng c√≥ m·∫°ng.</li>
                        <li>Voice Commands: ƒëi·ªÅu khi·ªÉn b√†i h·ªçc b·∫±ng gi·ªçng n√≥i.</li>
                        <li>Quick Access Menu: menu truy c·∫≠p nhanh n·ªôi dung quan tr·ªçng.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Cross-Platform Sync</h3>
                    <ul>
                        <li>Cloud Sync: ƒë·ªìng b·ªô ti·∫øn ƒë·ªô, ƒëi·ªÉm s·ªë tr√™n m·ªçi thi·∫øt b·ªã.</li>
                        <li>Resume Anywhere: ti·∫øp t·ª•c h·ªçc ƒë√∫ng v·ªã tr√≠ ƒë√£ d·ª´ng.</li>
                        <li>Bookmark Sync: l∆∞u & ƒë·ªìng b·ªô b√†i h·ªçc y√™u th√≠ch.</li>
                        <li>Settings Sync: gi·ªØ nguy√™n tu·ª≥ ch·ªânh c√° nh√¢n.</li>
                    </ul>
=======
                <h2>Responsive Interface</h2>
                <p>Thi·∫øt k·∫ø chuy√™n bi·ªát cho PC &amp; mobile: split screen, ph√≠m t·∫Øt, swipe, offline mode, voice command v√† menu truy c·∫≠p nhanh.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>PC Desktop</h3>
                    <div class="split-screen">
                        <div>
                            <h4>Split screen</h4>
                            <p>Xem b√†i h·ªçc v√† b√†i t·∫≠p song song.</p>
                        </div>
                        <div>
                            <h4>Detailed analytics</h4>
                            <canvas id="analytics-chart" class="chart"></canvas>
                        </div>
                    </div>
                    <div class="keyboard-shortcuts" style="margin-top:1.2rem;">
                        <h4>Keyboard shortcuts</h4>
                        <span><kbd>Shift</kbd> + <kbd>L</kbd> : M·ªü Listening Hub</span>
                        <span><kbd>Shift</kbd> + <kbd>V</kbd> : Vocabulary Lab</span>
                        <span><kbd>Shift</kbd> + <kbd>P</kbd> : Study Planner</span>
                    </div>
                </div>
                <div class="card">
                    <h3>Mobile experience</h3>
                    <ul style="padding-left:1.2rem;">
                        <li>Giao di·ªán th√¢n thi·ªán c·∫£m ·ª©ng</li>
                        <li>Swipe ƒë·ªÉ chuy·ªÉn section</li>
                        <li>Offline mode v·ªõi service worker</li>
                        <li>Voice commands ƒëi·ªÅu h∆∞·ªõng</li>
                        <li>Quick access menu</li>
                    </ul>
                    <p class="swipe-hint">Vu·ªët tr√°i/ph·∫£i tr√™n m√†n h√¨nh ƒë·ªÉ chuy·ªÉn qua section ti·∫øp theo.</p>
                </div>
                <div class="card">
                    <h3>Large text display</h3>
                    <p>TƒÉng k√≠ch th∆∞·ªõc ch·ªØ cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu.</p>
                    <button class="btn btn-outline" id="toggle-large-text">B·∫≠t/T·∫Øt ch·ªØ l·ªõn</button>
                    <p style="margin-top:0.8rem;">C√†i ƒë·∫∑t s·∫Ω ƒë∆∞·ª£c ƒë·ªìng b·ªô cho c√°c thi·∫øt b·ªã kh√°c.</p>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
                </div>
            </div>
        </section>

<<<<<<< HEAD
        <section id="beginner-support">
            <div class="section-heading">
                <h2>H·ªó tr·ª£ t·ªëi ƒëa cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</h2>
                <p>Giao di·ªán th√¢n thi·ªán, h∆∞·ªõng d·∫´n r√µ r√†ng, ƒëa d·∫°ng phong c√°ch h·ªçc gi√∫p b·∫°n t·ª± tin kh·ªüi ƒë·ªông h√†nh tr√¨nh TOEIC.</p>
            </div>
            <div class="feature-matrix">
                <div class="matrix-group">
                    <h3>Beginner-Friendly Features</h3>
                    <ul>
                        <li>Tutorial Walkthrough: h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng t·ª´ng b∆∞·ªõc.</li>
                        <li>Simple Navigation: menu r√µ r√†ng, √≠t thao t√°c.</li>
                        <li>Visual Progress Bars: thanh ti·∫øn ƒë·ªô tr·ª±c quan.</li>
                        <li>Clear Instructions: h∆∞·ªõng d·∫´n c·ª• th·ªÉ t·ª´ng ho·∫°t ƒë·ªông.</li>
                        <li>Error-friendly: h·ªá th·ªëng ch·∫•p nh·∫≠n sai, g·ª£i √Ω s·ª≠a.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Learning Support</h3>
                    <ul>
                        <li>Study Tips: m·∫πo h·ªçc hi·ªáu qu·∫£, qu·∫£n l√Ω th·ªùi gian.</li>
                        <li>FAQ Section: gi·∫£i ƒë√°p th·∫Øc m·∫Øc ph·ªï bi·∫øn.</li>
                        <li>Help Center: t√†i li·ªáu h∆∞·ªõng d·∫´n chi ti·∫øt.</li>
                        <li>Video Tutorials: video minh ho·∫° thao t√°c.</li>
                        <li>Live Chat Support: h·ªó tr·ª£ tr·ª±c tuy·∫øn 24/7.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Content Adaptation</h3>
                    <ul>
                        <li>Adjustable Difficulty: tƒÉng gi·∫£m ƒë·ªô kh√≥ theo ti·∫øn ƒë·ªô.</li>
                        <li>Multiple Learning Styles: b√†i h·ªçc cho th·ªã gi√°c, th√≠nh gi√°c, v·∫≠n ƒë·ªông.</li>
                        <li>Visual Learners: infographic, s∆° ƒë·ªì t∆∞ duy.</li>
                        <li>Audio Learners: podcast, b·∫£n ghi √¢m.</li>
                        <li>Kinesthetic Activities: ho·∫°t ƒë·ªông t∆∞∆°ng t√°c, k√©o-th·∫£.</li>
                    </ul>
=======
        <section id="cross-platform">
            <div class="section-heading">
                <h2>Cross-platform Sync</h2>
                <p>ƒê·ªìng b·ªô ti·∫øn ƒë·ªô tr√™n cloud, ti·∫øp t·ª•c h·ªçc t·ª´ b·∫•t k·ª≥ ƒë√¢u, ƒë·ªìng b·ªô bookmark v√† c√†i ƒë·∫∑t c√° nh√¢n.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Cloud sync</h3>
                    <p>Xu·∫•t v√† nh·∫≠p d·ªØ li·ªáu h·ªçc t·∫≠p ƒë·ªÉ ƒë·ªìng b·ªô nhi·ªÅu thi·∫øt b·ªã.</p>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="export-data">Xu·∫•t d·ªØ li·ªáu</button>
                        <button class="btn btn-outline" id="import-data">Nh·∫≠p d·ªØ li·ªáu</button>
                    </div>
                    <textarea id="sync-data" placeholder="D√°n d·ªØ li·ªáu JSON t·∫°i ƒë√¢y" style="margin-top:0.8rem; min-height:120px;"></textarea>
                </div>
                <div class="card">
                    <h3>Bookmark &amp; Resume anywhere</h3>
                    <button class="btn btn-outline" id="bookmark-section">ƒê√°nh d·∫•u section hi·ªán t·∫°i</button>
                    <ul id="bookmark-list" style="margin-top:1rem; padding-left:1.2rem;"></ul>
                </div>
                <div class="card">
                    <h3>Settings sync</h3>
                    <form id="settings-form">
                        <label for="preferred-theme">Ch·ªß ƒë·ªÅ</label>
                        <select id="preferred-theme">
                            <option value="default">Gradient</option>
                            <option value="dark">Dark minimal</option>
                            <option value="bright">Bright focus</option>
                        </select>
                        <label for="learning-style" style="margin-top:0.8rem;">Phong c√°ch h·ªçc</label>
                        <select id="learning-style">
                            <option value="visual">Visual</option>
                            <option value="auditory">Audio</option>
                            <option value="kinesthetic">Kinesthetic</option>
                        </select>
                        <button class="btn btn-primary" style="margin-top:1rem;" type="submit">L∆∞u c√†i ƒë·∫∑t</button>
                    </form>
                </div>
            </div>
        </section>

        <section id="beginner">
            <div class="section-heading">
                <h2>Beginner-friendly h·ªó tr·ª£</h2>
                <p>Giao di·ªán ƒë∆°n gi·∫£n, h∆∞·ªõng d·∫´n r√µ r√†ng, thanh ti·∫øn ƒë·ªô tr·ª±c quan v√† x·ª≠ l√Ω l·ªói th√¢n thi·ªán v·ªõi ng∆∞·ªùi m·ªõi.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Tutorial walkthrough</h3>
                    <p>H·ªá th·ªëng h∆∞·ªõng d·∫´n t·ª´ng b∆∞·ªõc l·∫ßn ƒë·∫ßu ƒëƒÉng nh·∫≠p.</p>
                    <button class="btn btn-primary" id="restart-tutorial">Ch·∫°y l·∫°i h∆∞·ªõng d·∫´n</button>
                </div>
                <div class="card">
                    <h3>Visual progress bars</h3>
                    <progress id="beginner-progress" value="0" max="100"></progress>
                    <p style="margin-top:0.8rem;">Ti·∫øn ƒë·ªô ho√†n th√†nh checklist cho ng∆∞·ªùi m·ªõi.</p>
                    <ul id="beginner-checklist" style="padding-left:1.2rem; margin-top:0.8rem;"></ul>
                </div>
                <div class="card">
                    <h3>Error-friendly</h3>
                    <p>N·∫øu c√≥ l·ªói, h·ªá th·ªëng s·∫Ω ƒë∆∞a ra ch·ªâ d·∫´n r√µ r√†ng.</p>
                    <div id="error-log" style="margin-top:1rem; color:var(--warning);"></div>
                </div>
            </div>
        </section>

        <section id="support">
            <div class="section-heading">
                <h2>Learning Support</h2>
                <p>M·∫πo h·ªçc, FAQ, video tutorial, help center v√† live chat s·∫µn s√†ng h·ªó tr·ª£ ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Study tips &amp; FAQ</h3>
                    <ul id="study-tips" style="padding-left:1.2rem;"></ul>
                    <div class="accordion" id="faq"></div>
                </div>
                <div class="card">
                    <h3>Help center</h3>
                    <form id="help-form">
                        <label for="help-topic">Ch·ªß ƒë·ªÅ</label>
                        <select id="help-topic">
                            <option value="account">T√†i kho·∫£n</option>
                            <option value="content">N·ªôi dung h·ªçc</option>
                            <option value="technical">K·ªπ thu·∫≠t</option>
                        </select>
                        <label for="help-message" style="margin-top:0.8rem;">M√¥ t·∫£ v·∫•n ƒë·ªÅ</label>
                        <textarea id="help-message"></textarea>
                        <button class="btn btn-primary" style="margin-top:1rem;" type="submit">G·ª≠i y√™u c·∫ßu</button>
                    </form>
                    <div id="help-response" style="margin-top:1rem;"></div>
                </div>
                <div class="card">
                    <h3>Video tutorials</h3>
                    <div style="display:grid; gap:0.8rem;">
                        <iframe width="100%" height="180" src="https://www.youtube.com/embed/TFf4vxZ7Xkk" title="TOEIC Beginner Guide" allowfullscreen></iframe>
                        <iframe width="100%" height="180" src="https://www.youtube.com/embed/1i8aG5sECZM" title="TOEIC Listening Tricks" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </section>

        <section id="adaptation">
            <div class="section-heading">
                <h2>Content Adaptation</h2>
                <p>ƒêi·ªÅu ch·ªânh ƒë·ªô kh√≥, h·ªó tr·ª£ nhi·ªÅu phong c√°ch h·ªçc, cung c·∫•p h√¨nh ·∫£nh, √¢m thanh v√† ho·∫°t ƒë·ªông t∆∞∆°ng t√°c.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Adjustable difficulty</h3>
                    <label for="difficulty-slider">M·ª©c ƒë·ªô t·ªïng th·ªÉ</label>
                    <input type="range" id="difficulty-slider" min="1" max="5" step="1">
                    <p id="difficulty-label" style="margin-top:0.6rem;"></p>
                </div>
                <div class="card">
                    <h3>Learning styles</h3>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="visual-mode">Visual</button>
                        <button class="btn btn-outline" id="audio-mode">Audio</button>
                        <button class="btn btn-ghost" id="kinesthetic-mode">Kinesthetic</button>
                    </div>
                    <div id="learning-style-content" style="margin-top:1rem;"></div>
                </div>
                <div class="card">
                    <h3>Kinesthetic activity</h3>
                    <p>K√©o th·∫£ ƒë·ªÉ ho√†n th√†nh c√¢u:</p>
                    <div class="drag-area" id="drag-area"></div>
                    <p id="drag-feedback" style="margin-top:0.6rem;"></p>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
                </div>
            </div>
        </section>

        <section id="tracking">
            <div class="section-heading">
<<<<<<< HEAD
                <h2>ƒê√°nh gi√° & Theo d√µi chuy√™n s√¢u</h2>
                <p>N·∫Øm b·∫Øt ti·∫øn ƒë·ªô h·ªçc t·∫≠p qua b√°o c√°o t·ª± ƒë·ªông, ph√¢n t√≠ch k·ªπ nƒÉng v√† d·ª± ƒëo√°n ƒëi·ªÉm TOEIC ƒë·ªÉ ƒëi·ªÅu ch·ªânh chi·∫øn l∆∞·ª£c k·ªãp th·ªùi.</p>
            </div>
            <div class="feature-matrix">
                <div class="matrix-group">
                    <h3>Performance Tracking</h3>
                    <ul>
                        <li>Skill Breakdown: ph√¢n t√≠ch Listening, Reading, t·ª´ v·ª±ng, ng·ªØ ph√°p.</li>
                        <li>Weakness Identification: c·∫£nh b√°o k·ªπ nƒÉng y·∫øu.</li>
                        <li>Improvement Suggestions: g·ª£i √Ω b√†i h·ªçc v√† b√†i t·∫≠p b√π ƒë·∫Øp.</li>
                        <li>Study Time Tracking: ghi nh·∫≠n th·ªùi gian h·ªçc, bi·ªÉu ƒë·ªì tu·∫ßn.</li>
                        <li>Accuracy Rates: th·ªëng k√™ t·ªâ l·ªá ƒë√∫ng theo t·ª´ng d·∫°ng c√¢u h·ªèi.</li>
                    </ul>
                </div>
                <div class="matrix-group">
                    <h3>Reporting System</h3>
                    <ul>
                        <li>Weekly Reports: b√°o c√°o tu·∫ßn g·ª≠i email, PDF t·∫£i nhanh.</li>
                        <li>Monthly Progress: ƒë·ªëi chi·∫øu ti·∫øn b·ªô theo th√°ng.</li>
                        <li>TOEIC Score Prediction: d·ª± ƒëo√°n ƒëi·ªÉm d·ª±a tr√™n k·∫øt qu·∫£ mock test.</li>
                        <li>Certificate Generation: ch·ª©ng nh·∫≠n ho√†n th√†nh kho√° h·ªçc.</li>
                        <li>Parent/Teacher Dashboard: b·∫£ng ƒëi·ªÅu khi·ªÉn cho ph·ª• huynh, gi√°o vi√™n.</li>
                    </ul>
                </div>
            </div>
            <div class="stats-board">
                <div class="stat">
                    <strong>85%</strong>
                    ng∆∞·ªùi h·ªçc ƒë·∫°t m·ª•c ti√™u TOEIC trong 4-6 th√°ng v·ªõi l·ªô tr√¨nh c√° nh√¢n ho√°.
                </div>
                <div class="stat">
                    <strong>4.9/5</strong>
                    ƒëi·ªÉm h√†i l√≤ng v·ªÅ ch·∫•t l∆∞·ª£ng n·ªôi dung v√† h·ªó tr·ª£ k·ªπ thu·∫≠t.
                </div>
                <div class="stat">
                    <strong>+120k</strong>
                    b√†i luy·ªán t·∫≠p ƒë∆∞·ª£c ho√†n th√†nh m·ªói tu·∫ßn tr√™n h·ªá th·ªëng.
                </div>
            </div>
=======
                <h2>ƒê√°nh gi√° &amp; Theo d√µi</h2>
                <p>Ph√¢n t√≠ch t·ª´ng k·ªπ nƒÉng, nh·∫≠n di·ªán ƒëi·ªÉm y·∫øu, g·ª£i √Ω c·∫£i thi·ªán, theo d√µi th·ªùi gian h·ªçc v√† t·ª∑ l·ªá ch√≠nh x√°c.</p>
            </div>
            <div class="grid-3">
                <div class="card">
                    <h3>Skill breakdown</h3>
                    <canvas id="skill-chart" class="chart"></canvas>
                    <ul id="weakness-list" style="margin-top:1rem; padding-left:1.2rem;"></ul>
                </div>
                <div class="card">
                    <h3>Study time tracking</h3>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="start-study-timer">Start session</button>
                        <button class="btn btn-outline" id="stop-study-timer">Stop</button>
                    </div>
                    <p style="margin-top:0.8rem;">Th·ªùi gian hi·ªán t·∫°i: <strong id="study-session-time">00:00</strong></p>
                    <p>T·ªïng th·ªùi gian: <strong id="study-total-time">0 ph√∫t</strong></p>
                </div>
                <div class="card">
                    <h3>Accuracy rates &amp; G·ª£i √Ω c·∫£i thi·ªán</h3>
                    <p>T·ª∑ l·ªá ch√≠nh x√°c trung b√¨nh: <strong id="accuracy-rate">0%</strong></p>
                    <ul id="improvement-suggestions" style="margin-top:1rem; padding-left:1.2rem;"></ul>
                </div>
            </div>
        </section>

        <section id="reporting">
            <div class="section-heading">
                <h2>B√°o c√°o &amp; Ch·ª©ng ch·ªâ</h2>
                <p>Nh·∫≠n b√°o c√°o tu·∫ßn/th√°ng, d·ª± ƒëo√°n ƒëi·ªÉm TOEIC, t·∫°o ch·ª©ng ch·ªâ v√† chia s·∫ª dashboard cho ph·ª• huynh/gi√°o vi√™n.</p>
            </div>
            <div class="report-grid">
                <div class="card">
                    <h3>Weekly &amp; Monthly reports</h3>
                    <div id="weekly-report"></div>
                    <div id="monthly-progress" style="margin-top:1rem;"></div>
                </div>
                <div class="card">
                    <h3>TOEIC score prediction</h3>
                    <p>ƒêi·ªÉm d·ª± ƒëo√°n: <strong id="score-prediction">0</strong></p>
                    <button class="btn btn-outline" id="update-prediction">C·∫≠p nh·∫≠t d·ª± ƒëo√°n</button>
                </div>
                <div class="card">
                    <h3>Certificate generation</h3>
                    <label for="certificate-name">T√™n hi·ªÉn th·ªã tr√™n ch·ª©ng ch·ªâ</label>
                    <input type="text" id="certificate-name" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n">
                    <button class="btn btn-primary" id="generate-certificate" style="margin-top:0.8rem;">T·∫°o &amp; t·∫£i ch·ª©ng ch·ªâ</button>
                    <canvas id="certificate-canvas" width="600" height="420" style="margin-top:1rem; width:100%; border-radius:16px; background:#fff;"></canvas>
                </div>
            </div>
            <div class="card" style="margin-top:1.5rem;">
                <h3>Parent/Teacher dashboard</h3>
                <div class="parent-dashboard">
                    <div class="stat">
                        <span>T·ªïng bu·ªïi h·ªçc tu·∫ßn n√†y</span>
                        <strong id="parent-sessions">0</strong>
                    </div>
                    <div class="stat">
                        <span>ƒêi·ªÉm m·∫°nh</span>
                        <strong id="parent-strength">-</strong>
                    </div>
                    <div class="stat">
                        <span>ƒêi·ªÉm c·∫ßn c·∫£i thi·ªán</span>
                        <strong id="parent-weakness">-</strong>
                    </div>
                    <div class="stat">
                        <span>T√†i li·ªáu g·ª£i √Ω</span>
                        <strong id="parent-resource">-</strong>
                    </div>
                </div>
                <button class="btn btn-outline" style="margin-top:1rem;" id="share-dashboard">Sao ch√©p b√°o c√°o</button>
            </div>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
        </section>
    </main>

    <footer>
        <div class="footer-inner">
            <div>
<<<<<<< HEAD
                <h3>Learn English ToTo</h3>
                <p>Gi·∫£i ph√°p h·ªçc TOEIC to√†n di·ªán cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu ‚Äì c√° nh√¢n ho√° l·ªô tr√¨nh, luy·ªán t·∫≠p ƒëa d·∫°ng, ƒë·ªìng b·ªô ho√° tr√™n m·ªçi thi·∫øt b·ªã.</p>
            </div>
            <div>
                <h3>B·∫Øt ƒë·∫ßu ngay</h3>
                <p>‚Ä¢ L√†m placement test trong 15 ph√∫t<br>
                   ‚Ä¢ Thi·∫øt l·∫≠p m·ª•c ti√™u ƒëi·ªÉm TOEIC<br>
                   ‚Ä¢ Nh·∫≠n g·ª£i √Ω b√†i h·ªçc ph√π h·ª£p trong ng√†y</p>
            </div>
            <div>
                <h3>K·∫øt n·ªëi</h3>
                <p>Email: hello@learntoto.com<br>
                   Live chat 24/7 trong ·ª©ng d·ª•ng<br>
                   C·ªông ƒë·ªìng h·ªçc vi√™n tr√™n Facebook & Zalo</p>
            </div>
        </div>
    </footer>
=======
                <h4>Learn English ToTo</h4>
                <p>ƒê·ªìng h√†nh c√πng ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu chinh ph·ª•c TOEIC v·ªõi tr·∫£i nghi·ªám h·ªçc t·∫≠p to√†n di·ªán.</p>
            </div>
            <div>
                <h4>Li√™n h·ªá</h4>
                <p>Email: support@toto.vn<br>Hotline: 1900-0000</p>
            </div>
            <div>
                <h4>Ch√≠nh s√°ch</h4>
                <p><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a><br><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></p>
            </div>
        </div>
        <p style="margin-top:2rem; text-align:center; color:var(--muted);">¬© 2024 Learn English ToTo. All rights reserved.</p>
    </footer>

    <div class="mobile-quick-menu" aria-label="Menu truy c·∫≠p nhanh">
        <ul>
            <li><a href="#top">‚¨ÜÔ∏è</a></li>
            <li><a href="#assessment">üß†</a></li>
            <li><a href="#vocabulary">üî§</a></li>
            <li><a href="#study-planner">üóìÔ∏è</a></li>
            <li><a href="#reporting">üìä</a></li>
        </ul>
    </div>

    <div class="chat-widget" role="complementary" aria-label="Live chat h·ªó tr·ª£">
        <div class="chat-header">
            <strong>Live Chat ToTo</strong>
            <button class="btn btn-ghost" id="clear-chat">X√≥a</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <form class="chat-input" id="chat-form">
            <input type="text" id="chat-message" placeholder="Nh·∫≠p c√¢u h·ªèi..." autocomplete="off">
            <button class="btn btn-primary" type="submit">G·ª≠i</button>
        </form>
    </div>

    <div class="toast-container" id="toast-container"></div>
    <div class="modal" id="simulator-modal" aria-hidden="true">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3>M√¥ ph·ªèng TOEIC</h3>
                <button class="modal-close" data-close="simulator-modal">‚úï</button>
            </div>
            <p>Tr·∫£ l·ªùi t·ª´ng c√¢u h·ªèi trong th·ªùi gian gi·ªõi h·∫°n. Khi h·∫øt gi·ªù h·ªá th·ªëng t·ª± ƒë·ªông n·ªôp b√†i.</p>
            <div id="simulator-body"></div>
            <div class="flashcard-actions" style="margin-top:1.2rem;">
                <button class="btn btn-primary" id="submit-simulator">N·ªôp b√†i</button>
                <button class="btn btn-outline" id="reset-simulator">L√†m l·∫°i</button>
            </div>
            <div id="simulator-feedback" style="margin-top:1rem;"></div>
        </div>
    </div>

    <div class="modal" id="mocktest-modal" aria-hidden="true">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3>TOEIC Practice Test</h3>
                <button class="modal-close" data-close="mocktest-modal">‚úï</button>
            </div>
            <div id="mocktest-info" style="margin-bottom:1rem;"></div>
            <div id="mocktest-questions"></div>
            <div class="flashcard-actions" style="margin-top:1rem;">
                <button class="btn btn-primary" id="submit-mocktest">N·ªôp b√†i</button>
                <button class="btn btn-outline" id="cancel-mocktest">H·ªßy</button>
            </div>
            <div id="mocktest-feedback" style="margin-top:1rem;"></div>
        </div>
    </div>

    <div class="modal" id="history-modal" aria-hidden="true">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3>L·ªãch s·ª≠ l√†m b√†i</h3>
                <button class="modal-close" data-close="history-modal">‚úï</button>
            </div>
            <div id="history-content"></div>
        </div>
    </div>

    <script>
        const appKey = "toto-beginner-state-v1";
        const now = () => new Date();
        const defaultState = {
            targetScore: 650,
            currentScore: 0,
            placementResults: [],
            simulatorHistory: [],
            vocabulary: {},
            repetitionQueue: [],
            flashcardIndex: 0,
            visualMode: true,
            planner: { dailyMinutes: 30, vocabPerDay: 10, focus: "listening" },
            reminders: [],
            calendar: {},
            milestones: [],
            points: 0,
            badges: [],
            streak: { count: 0, max: 0, lastDate: null },
            leaderboard: [{ name: "Linh", score: 820 }, { name: "Akira", score: 780 }, { name: "You", score: 0 }],
            challenge: { text: "√în 10 t·ª´ v·ª±ng v√† ho√†n th√†nh 1 b√†i nghe.", completed: false, date: new Date().toISOString().slice(0,10) },
            settings: { largeText: false, theme: "default", learningStyle: "visual" },
            bookmarks: [],
            beginnerChecklist: { placement: false, vocab: false, planner: false, mock: false },
            helpTickets: [],
            chatHistory: [],
            difficulty: 2,
            dragGame: { completed: false },
            studyTime: { sessions: [], totalMinutes: 0 },
            accuracy: { correct: 0, total: 0 },
            reports: { weekly: [], monthly: [] },
            parentSnapshot: { sessions: 0, strength: "", weakness: "", resource: "" },
            certificate: { name: "", lastGenerated: null },
            tutorialCompleted: false
        };

        const state = loadState();

        function loadState() {
            try {
                const raw = localStorage.getItem(appKey);
                if (!raw) return structuredClone(defaultState);
                const parsed = JSON.parse(raw);
                return { ...structuredClone(defaultState), ...parsed };
            } catch (error) {
                logError("Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu ƒë√£ l∆∞u.");
                return structuredClone(defaultState);
            }
        }

        function saveState() {
            try {
                localStorage.setItem(appKey, JSON.stringify(state));
            } catch (error) {
                logError("Kh√¥ng th·ªÉ l∆∞u d·ªØ li·ªáu. Vui l√≤ng ki·ªÉm tra b·ªô nh·ªõ tr√¨nh duy·ªát.");
            }
        }

        function logError(message) {
            const errorLog = document.getElementById("error-log");
            if (errorLog) {
                const time = now().toLocaleTimeString();
                errorLog.innerHTML = `<div>[${time}] ${message}</div>` + errorLog.innerHTML;
            }
            showToast(message, "warning");
        }

        function showToast(message, type = "info") {
            const container = document.getElementById("toast-container");
            const toast = document.createElement("div");
            toast.className = "toast";
            const colors = {
                info: "rgba(56,189,248,0.3)",
                success: "rgba(34,211,238,0.3)",
                warning: "rgba(250,204,21,0.3)",
                danger: "rgba(248,113,113,0.3)"
            };
            toast.style.borderColor = colors[type] || colors.info;
            toast.textContent = message;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 4500);
        }

        const placementQuestions = [
            {
                id: 1,
                question: "Choose the correct option: She ____ to work every day.",
                options: ["go", "goes", "going", "gone"],
                answer: "goes",
                explanation: "She is third person singular, use 'goes'."
            },
            {
                id: 2,
                question: "What does the word 'invoice' mean?",
                options: ["H√≥a ƒë∆°n", "B·∫£ng b√°o gi√°", "H·ª£p ƒë·ªìng", "Phi·∫øu giao h√†ng"],
                answer: "H√≥a ƒë∆°n",
                explanation: "Invoice nghƒ©a l√† h√≥a ƒë∆°n thanh to√°n."
            },
            {
                id: 3,
                question: "Choose the sentence with correct order.",
                options: [
                    "We tomorrow will have a meeting",
                    "Tomorrow we will have a meeting",
                    "We will have tomorrow a meeting",
                    "We will tomorrow have a meeting"
                ],
                answer: "Tomorrow we will have a meeting",
                explanation: "Tr·∫°ng t·ª´ ch·ªâ th·ªùi gian 'tomorrow' th∆∞·ªùng ƒë·∫∑t ·ªü ƒë·∫ßu ho·∫∑c cu·ªëi c√¢u."
            },
            {
                id: 4,
                question: "Listen: Which picture is described?",
                options: ["M·ªôt ng∆∞·ªùi ƒë√†n √¥ng ƒëang g·ªçi ƒëi·ªán", "M·ªôt ph·ª• n·ªØ ƒëang ƒë·ªçc s√°ch", "Hai ng∆∞·ªùi ƒëang l√°i xe", "M·ªôt nh√≥m ng∆∞·ªùi ƒëang ƒÉn t·ªëi"],
                answer: "M·ªôt ng∆∞·ªùi ƒë√†n √¥ng ƒëang g·ªçi ƒëi·ªán",
                explanation: "T·ª´ kh√≥a 'on the phone' -> g·ªçi ƒëi·ªán."
            },
            {
                id: 5,
                question: "Reading: What is the main idea of the memo?",
                options: ["Th√¥ng b√°o h·ªçp", "Khi·∫øu n·∫°i s·∫£n ph·∫©m", "B√°o c√°o t√†i ch√≠nh", "L·ªùi m·ªùi ph·ªèng v·∫•n"],
                answer: "Th√¥ng b√°o h·ªçp",
                explanation: "Memo ƒë·ªÅ c·∫≠p ƒë·∫øn vi·ªác s·∫Øp x·∫øp cu·ªôc h·ªçp."
            }
        ];

        const vocabularyBank = [
            { word: "agenda", ipa: "/…ôÀàd íen.d…ô/", meaning: "ch∆∞∆°ng tr√¨nh ngh·ªã s·ª±", example: "Let's review today's meeting agenda.", image: "https://source.unsplash.com/featured/?calendar" },
            { word: "deadline", ipa: "/Ààded.la…™n/", meaning: "h·∫°n ch√≥t", example: "The project deadline is next Monday.", image: "https://source.unsplash.com/featured/?deadline" },
            { word: "invoice", ipa: "/Àà…™n.v…î…™s/", meaning: "h√≥a ƒë∆°n", example: "Please send the invoice to accounting.", image: "https://source.unsplash.com/featured/?invoice" },
            { word: "negotiate", ipa: "/n…™Àà…°o ä. Éi.e…™t/", meaning: "ƒë√†m ph√°n", example: "We will negotiate better rates.", image: "https://source.unsplash.com/featured/?negotiation" },
            { word: "productivity", ipa: "/Àåpro ä.d…ôkÀàt…™v.…ô.tÃ¨i/", meaning: "nƒÉng su·∫•t", example: "Productivity increased by 20%.", image: "https://source.unsplash.com/featured/?productivity" },
            { word: "assembly", ipa: "/…ôÀàsem.bli/", meaning: "d√¢y chuy·ªÅn l·∫Øp r√°p", example: "The assembly line runs all night.", image: "https://source.unsplash.com/featured/?factory" },
            { word: "proposal", ipa: "/pr…ôÀàpo ä.z…ôl/", meaning: "ƒë·ªÅ xu·∫•t", example: "She submitted a proposal for the new campaign.", image: "https://source.unsplash.com/featured/?proposal" },
            { word: "shipment", ipa: "/Àà É…™p.m…ônt/", meaning: "l√¥ h√†ng", example: "The shipment arrived this morning.", image: "https://source.unsplash.com/featured/?shipping" },
            { word: "maintenance", ipa: "/Ààme…™n.t…ôn.…ôns/", meaning: "b·∫£o tr√¨", example: "The copier needs maintenance.", image: "https://source.unsplash.com/featured/?maintenance" },
            { word: "conference", ipa: "/Ààk…ëÀên.f…ö.…ôns/", meaning: "h·ªôi ngh·ªã", example: "They will attend an international conference.", image: "https://source.unsplash.com/featured/?conference" }
        ];

        const listeningTracks = {
            easy: {
                text: "Hello and welcome to our office tour. On your left is the reception desk.",
                visual: "üõéÔ∏è Reception desk with a friendly staff.",
                cue: "picture of reception",
                difficultyScore: 20
            },
            medium: {
                text: "The next train to arrive at platform two will depart for Osaka at 10 a.m.",
                visual: "üöÜ Platform sign highlighting departure time.",
                cue: "train schedule",
                difficultyScore: 50
            },
            hard: {
                text: "During the quarterly earnings call, executives highlighted supply chain disruptions affecting Q3 revenue.",
                visual: "üìä Graph showing fluctuating revenue.",
                cue: "presentation slide",
                difficultyScore: 85
            }
        };

        const listeningParts = [
            { id: "part1", title: "Part 1 - Photographs", type: "listening", questions: 3 },
            { id: "part2", title: "Part 2 - Question-Response", type: "listening", questions: 6 },
            { id: "part3", title: "Part 3 - Short Conversations", type: "listening", questions: 10 },
            { id: "part4", title: "Part 4 - Short Talks", type: "listening", questions: 10 }
        ];

        const readingParts = [
            { id: "part5", title: "Part 5 - Incomplete Sentences", type: "reading", questions: 10 },
            { id: "part6", title: "Part 6 - Text Completion", type: "reading", questions: 12 },
            { id: "part7", title: "Part 7 - Reading Comprehension", type: "reading", questions: 16 }
        ];

        const readingPassage = "Our company is pleased to announce a new benefits package for all employees, including extended parental leave and remote work options.";

        const speedTips = [
            "ƒê·ªçc l∆∞·ªõt ti√™u ƒë·ªÅ v√† c√¢u ƒë·∫ßu ƒë·ªÉ n·∫Øm √Ω ch√≠nh.",
            "ƒê·∫∑t timer 45 gi√¢y ƒë·ªÉ luy·ªán skimming m·ªôt ƒëo·∫°n.",
            "ƒê√°nh d·∫•u t·ª´ kh√≥a khi scanning th√¥ng tin c·ª• th·ªÉ.",
            "K·∫øt h·ª£p ƒë·ªçc nhanh v·ªõi ghi ch√∫ b·∫±ng k√Ω hi·ªáu ri√™ng."
        ];

        const speedText = "The annual financial report shows a steady increase in revenue thanks to the successful launch of the new online platform.";

        const grammarLessons = [
            { title: "Tenses c∆° b·∫£n", summary: "Simple present, past, future", content: "Simple present d√πng cho th√≥i quen, s·ª± th·∫≠t. Simple past d√πng cho h√†nh ƒë·ªông ƒë√£ x·∫£y ra trong qu√° kh·ª© c√≥ th·ªùi gian x√°c ƒë·ªãnh." },
            { title: "Danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c & kh√¥ng ƒë·∫øm ƒë∆∞·ª£c", summary: "much/many, some/any", content: "Many + danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c, much + danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c. D√πng some trong c√¢u kh·∫≥ng ƒë·ªãnh, any trong c√¢u ph·ªß ƒë·ªãnh v√† nghi v·∫•n." },
            { title: "C√¢u ƒëi·ªÅu ki·ªán", summary: "Type 0/1/2/3", content: "Type 1: If + present, will + V. Type 2: If + past simple, would + V. Type 3: If + past perfect, would have + V3." }
        ];

        const grammarExercises = [
            { id: "g1", question: "If it ____ tomorrow, we will cancel the picnic.", options: ["rains", "rained", "rain"], answer: "rains" },
            { id: "g2", question: "There aren't ____ chairs in the room.", options: ["much", "many", "a"], answer: "many" },
            { id: "g3", question: "She ____ to the office every morning.", options: ["drive", "drives", "driving"], answer: "drives" }
        ];

        const skimmingHint = "T·∫≠p trung v√†o c√¢u ƒë·∫ßu v√† c√¢u cu·ªëi ƒëo·∫°n vƒÉn ƒë·ªÉ hi·ªÉu ch·ªß ƒë·ªÅ ch√≠nh.";

        const mockTestSets = {
            full: {
                duration: 120 * 60,
                questions: Array.from({ length: 20 }).map((_, idx) => ({
                    id: `F${idx + 1}`,
                    text: `Full test c√¢u ${idx + 1}: Ch·ªçn ƒë√°p √°n ƒë√∫ng cho c√¢u h·ªèi ƒë·ªçc hi·ªÉu.`,
                    options: ["A", "B", "C", "D"],
                    answer: ["A", "B", "C", "D"][idx % 4]
                }))
            },
            mini: {
                duration: 35 * 60,
                questions: Array.from({ length: 8 }).map((_, idx) => ({
                    id: `M${idx + 1}`,
                    text: `Mini test c√¢u ${idx + 1}: Ch·ªçn ƒë√°p √°n ƒë√∫ng cho c√¢u h·ªèi nghe.`,
                    options: ["A", "B", "C", "D"],
                    answer: ["D", "A", "B", "C"][idx % 4]
                }))
            }
        };

        const dragSentence = {
            text: "The project ___ completed ___ schedule.",
            words: ["was", "ahead", "of"],
            dropOrder: ["was", "ahead", "of"]
        };

        const tips = [
            "H·ªçc t·ª´ theo ch·ªß ƒë·ªÅ gi√∫p nh·ªõ nhanh h∆°n.",
            "Nghe ch√©p ch√≠nh t·∫£ ƒë·ªÉ c·∫£i thi·ªán ph√°t √¢m.",
            "M·ªói ng√†y d√†nh √≠t nh·∫•t 15 ph√∫t luy·ªán ƒë·ªçc.",
            "S·ª≠ d·ª•ng flashcard v√† nh·∫Øc l·∫°i th√†nh ti·∫øng."
        ];

        const faqs = [
            { question: "L√†m sao ƒë·ªÉ b·∫Øt ƒë·∫ßu?", answer: "Ho√†n th√†nh placement test v√† ƒë·∫∑t m·ª•c ti√™u ƒëi·ªÉm TOEIC." },
            { question: "C√≥ th·ªÉ h·ªçc offline?", answer: "C√≥, b·∫≠t Offline mode ƒë·ªÉ s·ª≠ d·ª•ng phi√™n b·∫£n cache." },
            { question: "L√†m sao ƒë·ªÉ luy·ªán nghe t·ªët h∆°n?", answer: "B·∫Øt ƒë·∫ßu v·ªõi Listening Hub t·ªëc ƒë·ªô ch·∫≠m v√† tƒÉng d·∫ßn ƒë·ªô kh√≥." }
        ];

        const achievements = [
            { id: "first-placement", name: "Ho√†n th√†nh placement", condition: () => state.placementResults.length > 0 },
            { id: "first-vocab", name: "√în 20 t·ª´ v·ª±ng", condition: () => state.points >= 200 },
            { id: "streak-7", name: "Streak 7 ng√†y", condition: () => state.streak.count >= 7 }
        ];

        const challengePool = [
            "H·ªçc 15 t·ª´ v·ª±ng v√† ghi √¢m ph√°t √¢m.",
            "Luy·ªán Part 2 trong 10 ph√∫t.",
            "Ho√†n th√†nh 1 mini test v√† ƒë·ªçc ph√¢n t√≠ch.",
            "G·ª≠i 1 c√¢u h·ªèi t·ªõi help center." 
        ];

        const phoneticRows = [
            ["/i:/", "/…™/", "/e/", "/√¶/"],
            ["/u:/", "/ ä/", "/…î:/", "/…í/"],
            ["/ å/", "//:", "…ô", "…úÀê"],
            ["/p/", "b", "t", "d"],
            ["/k/", "g", "f", "v"],
            ["/Œ∏/", "√∞", "s", "z"],
            ["/ É/", " í", "t É", "d í"]
        ];

        const recognitionPhrases = {
            "m·ªü listening": () => document.getElementById("listening").scrollIntoView({ behavior: "smooth" }),
            "m·ªü t·ª´ v·ª±ng": () => document.getElementById("vocabulary").scrollIntoView({ behavior: "smooth" }),
            "m·ªü planner": () => document.getElementById("study-planner").scrollIntoView({ behavior: "smooth" }),
            "l√†m test": () => openSimulator(),
            "b·∫≠t ch·ªØ l·ªõn": () => toggleLargeText(true)
        };

        let recorder;
        let recordedChunks = [];
        let recognition;
        let simulatorTimer;
        let simulatorTimeLeft = 0;
        let mockTimer;
        let mockTimeLeft = 0;
        let speedTimer;
        let speedStart;
        let studyTimer;
        let studyStart;
        let practiceTimer;
        let practiceTimeLeft = 5 * 60;

        document.addEventListener("DOMContentLoaded", initApp);

        function initApp() {
            renderHero();
            renderTargetScore();
            renderProgressChart();
            renderPlacementTest();
            renderVocabulary();
            renderGrammar();
            renderListening();
            renderPracticeSections();
            renderSpeedReading();
            renderPlanner();
            renderTools();
            renderGamification();
            renderResponsiveAnalytics();
            renderCrossPlatform();
            renderBeginnerChecklist();
            renderSupport();
            renderAdaptation();
            renderTracking();
            renderReporting();
            renderChat();
            attachEvents();
            buildTutorial();
            updateDifficultyLabel();
            registerServiceWorker();
            updateChallenge();
            updateLeaderboard();
            updateHeroChart();
        }
        function renderHero() {
            document.getElementById("hero-target-score").textContent = state.targetScore;
            document.getElementById("hero-target-progress").value = Math.min(state.currentScore, 990);
            document.getElementById("hero-streak").textContent = state.streak.count;
        }

        function renderTargetScore() {
            const input = document.getElementById("target-score-input");
            input.value = state.targetScore;
            document.getElementById("target-score-display").textContent = state.targetScore;
            document.getElementById("current-score-est").textContent = state.currentScore;
            const progress = document.getElementById("target-progress");
            progress.value = state.currentScore && state.targetScore ? state.currentScore / state.targetScore : 0;
        }

        function renderProgressChart() {
            const canvas = document.getElementById("progress-chart");
            if (!canvas) return;
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const data = state.simulatorHistory.concat(state.placementResults).slice(-10);
            const padding = 30;
            const width = canvas.width || canvas.clientWidth;
            const height = canvas.height || canvas.clientHeight;
            ctx.strokeStyle = "rgba(56,189,248,0.6)";
            ctx.lineWidth = 2;
            ctx.beginPath();
            if (data.length === 0) {
                ctx.moveTo(padding, height - padding);
                ctx.lineTo(width - padding, height - padding);
            } else {
                data.forEach((item, index) => {
                    const x = padding + (index / (data.length - 1 || 1)) * (width - padding * 2);
                    const y = height - padding - (item.score / 990) * (height - padding * 2);
                    if (index === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
            }
            ctx.stroke();
            ctx.fillStyle = "rgba(148,163,184,0.35)";
            ctx.font = "12px Be Vietnam Pro";
            ctx.fillText("ƒêi·ªÉm", padding, padding);
            const history = document.getElementById("assessment-history");
            history.innerHTML = data.map(item => `<li>${item.type} ${item.score} ƒëi·ªÉm (${item.date})</li>`).join("");
        }

        function renderPlacementTest() {
            const form = document.getElementById("placement-test-form");
            form.innerHTML = placementQuestions.map(q => `
                <div style="margin-bottom:1rem;">
                    <strong>${q.id}. ${q.question}</strong>
                    ${q.options.map(option => `
                        <label style="display:flex; align-items:center; gap:0.4rem; margin-top:0.3rem;">
                            <input type="radio" name="q${q.id}" value="${option}">
                            <span>${option}</span>
                        </label>
                    `).join("")}
                </div>
            `).join("");
        }

        function renderVocabulary() {
            renderWordOfDay();
            renderFlashcard();
            renderWordList();
            renderRepetitionQueue();
        }

        function renderWordOfDay() {
            const container = document.getElementById("word-of-day");
            if (!container) return;
            const today = new Date().toDateString();
            let word = state.wordOfDay;
            if (!word || word.date !== today) {
                const idx = Math.floor((Date.now() / 86400000)) % vocabularyBank.length;
                word = { ...vocabularyBank[idx], date: today };
                state.wordOfDay = word;
                saveState();
            }
            container.innerHTML = `
                <div style="display:flex; gap:1rem; align-items:center;">
                    <img src="${word.image}" alt="${word.word}">
                    <div>
                        <h3 style="margin:0;">${word.word}</h3>
                        <p style="margin:0; color:var(--muted);">${word.ipa} ¬∑ ${word.meaning}</p>
                    </div>
                </div>
                <p style="margin-top:1rem;">V√≠ d·ª•: ${word.example}</p>
            `;
        }

        function renderFlashcard() {
            const container = document.getElementById("flashcard");
            if (!container) return;
            if (state.flashcardIndex >= vocabularyBank.length) state.flashcardIndex = 0;
            const word = vocabularyBank[state.flashcardIndex];
            container.innerHTML = `
                <img src="${state.visualMode ? word.image : "https://source.unsplash.com/featured/?study"}" alt="${word.word}">
                <h3 style="margin:0;">${word.word}</h3>
                <p style="margin:0; color:var(--muted);">${word.ipa}</p>
                <p style="margin:0;">${word.meaning}</p>
                <p style="margin:0; display:none;" id="flashcard-example">V√≠ d·ª•: ${word.example}</p>
            `;
        }

        function renderWordList(filter = "") {
            const list = document.getElementById("word-list");
            if (!list) return;
            const normalized = filter.trim().toLowerCase();
            list.innerHTML = vocabularyBank
                .filter(item => !normalized || item.word.toLowerCase().includes(normalized) || item.meaning.includes(normalized) || item.ipa.includes(normalized))
                .map(item => `<div class="stat" data-word="${item.word}">
                    <strong>${item.word}</strong>
                    <span>${item.ipa}</span>
                    <small>${item.meaning}</small>
                </div>`)
                .join("");
        }

        function renderRepetitionQueue() {
            const container = document.getElementById("spaced-repetition-list");
            if (!container) return;
            const dueWords = state.repetitionQueue
                .map(entry => ({ ...entry, word: vocabularyBank.find(w => w.word === entry.word) }))
                .filter(entry => entry.word)
                .sort((a, b) => new Date(a.due) - new Date(b.due));
            if (!dueWords.length) {
                container.innerHTML = `<p>Ch∆∞a c√≥ t·ª´ c·∫ßn √¥n. H√£y ƒë√°nh d·∫•u flashcard ƒë·ªÉ th√™m v√†o danh s√°ch.</p>`;
                return;
            }
            container.innerHTML = dueWords.slice(0, 5).map(entry => `
                <div class="stat">
                    <strong>${entry.word.word}</strong>
                    <span>L·∫ßn t·ªõi: ${new Date(entry.due).toLocaleString()}</span>
                    <small>C·∫•p ƒë·ªô: ${entry.stage}</small>
                </div>
            `).join("");
        }

        function renderGrammar() {
            const lessonContainer = document.getElementById("grammar-lessons");
            lessonContainer.innerHTML = grammarLessons.map((lesson, idx) => `
                <div class="accordion-item ${idx === 0 ? "active" : ""}">
                    <div class="accordion-header" data-lesson="${idx}">
                        <strong>${lesson.title}</strong>
                        <span>${lesson.summary}</span>
                    </div>
                    <div class="accordion-content">${lesson.content}</div>
                </div>
            `).join("");

            const exerciseContainer = document.getElementById("grammar-exercises");
            exerciseContainer.innerHTML = grammarExercises.map(ex => `
                <div style="margin-bottom:1rem;">
                    <strong>${ex.question}</strong>
                    ${ex.options.map(option => `
                        <label style="display:flex; align-items:center; gap:0.4rem; margin-top:0.3rem;">
                            <input type="radio" name="${ex.id}" value="${option}">
                            <span>${option}</span>
                        </label>
                    `).join("")}
                </div>
            `).join("");
        }

        function renderListening() {
            updateListeningTrack("easy");
        }

        function updateListeningTrack(level) {
            const data = listeningTracks[level];
            document.getElementById("listening-track").innerHTML = `
                <strong>${level.toUpperCase()}</strong>
                <p>${data.text}</p>
                <small>Visual cue: ${data.visual}</small>
            `;
            document.getElementById("listening-transcript").textContent = data.text;
            document.getElementById("listening-level-text").textContent = level;
            document.getElementById("listening-visual").textContent = data.visual;
            state.listeningLevel = level;
        }

        function renderPracticeSections() {
            const listeningContainer = document.getElementById("listening-parts");
            listeningContainer.innerHTML = listeningParts.map(part => `
                <div class="stat">
                    <strong>${part.title}</strong>
                    <span>${part.questions} c√¢u luy·ªán t·∫≠p</span>
                    <button class="btn btn-outline" data-part="${part.id}" data-type="listening">L√†m ngay</button>
                </div>
            `).join("");
            const readingContainer = document.getElementById("reading-parts");
            readingContainer.innerHTML = readingParts.map(part => `
                <div class="stat">
                    <strong>${part.title}</strong>
                    <span>${part.questions} c√¢u luy·ªán t·∫≠p</span>
                    <button class="btn btn-outline" data-part="${part.id}" data-type="reading">L√†m ngay</button>
                </div>
            `).join("");
            document.getElementById("skimming-text").innerHTML = `<span>${readingPassage}</span>`;
        }

        function renderSpeedReading() {
            document.getElementById("speed-reading-tips").innerHTML = speedTips.map(tip => `<li>${tip}</li>`).join("");
            document.getElementById("speed-reading-text").textContent = speedText;
        }

        function renderPlanner() {
            document.getElementById("daily-goal").value = state.planner.dailyMinutes;
            document.getElementById("vocab-goal").value = state.planner.vocabPerDay;
            document.getElementById("study-focus").value = state.planner.focus;
            document.getElementById("planner-summary").innerHTML = `
                <div class="stat">
                    <span>Daily goal</span>
                    <strong>${state.planner.dailyMinutes} ph√∫t</strong>
                    <small>${state.planner.vocabPerDay} t·ª´ v·ª±ng ¬∑ ∆Øu ti√™n ${state.planner.focus}</small>
                </div>
            `;
            renderReminders();
            renderCalendar();
            renderMilestones();
        }

        function renderReminders() {
            const list = document.getElementById("reminder-list");
            list.innerHTML = state.reminders.map((rem, idx) => `<li>${rem.time} - ${rem.note || "√în t·∫≠p TOEIC"} <button class="btn btn-ghost" data-remove-reminder="${idx}">X</button></li>`).join("");
        }

        function renderCalendar(date = new Date()) {
            const current = state.calendarMonth ? new Date(state.calendarMonth) : date;
            const year = current.getFullYear();
            const month = current.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            state.calendarMonth = current.toISOString();
            document.getElementById("calendar-title").textContent = `${month + 1}/${year}`;
            const calendar = document.getElementById("calendar");
            calendar.innerHTML = "";
            for (let i = 0; i < firstDay; i++) {
                const blank = document.createElement("div");
                calendar.appendChild(blank);
            }
            for (let day = 1; day <= daysInMonth; day++) {
                const cell = document.createElement("div");
                cell.className = "day";
                cell.innerHTML = `<strong>${day}</strong>`;
                const key = `${year}-${month + 1}-${day}`;
                const tasks = state.calendar[key] || [];
                const list = document.createElement("div");
                list.className = "tasks";
                tasks.forEach(task => {
                    const item = document.createElement("span");
                    item.textContent = task;
                    list.appendChild(item);
                });
                cell.appendChild(list);
                cell.addEventListener("click", () => {
                    const text = prompt("Th√™m ghi ch√∫ h·ªçc t·∫≠p cho ng√†y n√†y", tasks.join(", "));
                    if (text !== null) {
                        state.calendar[key] = text ? text.split(/,|\n/).map(s => s.trim()).filter(Boolean) : [];
                        saveState();
                        renderCalendar(new Date(state.calendarMonth));
                    }
                });
                calendar.appendChild(cell);
            }
        }

        function renderMilestones() {
            const list = document.getElementById("milestone-list");
            if (!state.milestones.length) {
                state.milestones = [
                    { title: "Ho√†n th√†nh Placement Test", completed: state.beginnerChecklist.placement },
                    { title: "ƒê·∫°t 200 ƒëi·ªÉm luy·ªán t·∫≠p", completed: state.points >= 200 },
                    { title: "Ho√†n th√†nh mock test ƒë·∫ßu ti√™n", completed: state.beginnerChecklist.mock }
                ];
            }
            list.innerHTML = state.milestones.map((item, idx) => `<li><input type="checkbox" data-milestone="${idx}" ${item.completed ? "checked" : ""}> ${item.title}</li>`).join("");
        }
        function renderTools() {
            const table = document.getElementById("phonetic-table");
            table.innerHTML = phoneticRows.map(row => `<tr>${row.map(cell => `<td>${cell}</td>`).join("")}</tr>`).join("");
            document.getElementById("voice-commands").innerHTML = Object.keys(recognitionPhrases).map(cmd => `<div class="pill">${cmd}</div>`).join("");
        }

        function renderGamification() {
            document.getElementById("total-points").textContent = state.points;
            document.getElementById("points-progress").value = Math.min(state.points, 1000);
            document.getElementById("streak-count").textContent = state.streak.count;
            document.getElementById("max-streak").textContent = state.streak.max;
            const badgeList = document.getElementById("badge-list");
            badgeList.innerHTML = achievements.filter(a => a.condition()).map(a => `<li>${a.name}</li>`).join("") || "<li>Ch∆∞a c√≥ huy hi·ªáu</li>";
        }

        function renderResponsiveAnalytics() {
            drawRadarChart("analytics-chart", {
                listening: avgScore("listening"),
                reading: avgScore("reading"),
                grammar: avgScore("grammar"),
                vocabulary: avgScore("vocabulary"),
                speaking: avgScore("speaking")
            });
        }

        function renderCrossPlatform() {
            document.getElementById("preferred-theme").value = state.settings.theme;
            document.getElementById("learning-style").value = state.settings.learningStyle;
            document.getElementById("bookmark-list").innerHTML = state.bookmarks.map((bookmark, idx) => `<li><a href="${bookmark.href}">${bookmark.label}</a> <button class="btn btn-ghost" data-remove-bookmark="${idx}">X</button></li>`).join("");
        }

        function renderBeginnerChecklist() {
            const items = [
                { key: "placement", label: "Ho√†n th√†nh Placement Test" },
                { key: "vocab", label: "√în 10 t·ª´ ƒë·∫ßu ti√™n" },
                { key: "planner", label: "Thi·∫øt l·∫≠p study planner" },
                { key: "mock", label: "L√†m mini test" }
            ];
            const list = document.getElementById("beginner-checklist");
            list.innerHTML = items.map(item => `<li><input type="checkbox" data-checklist="${item.key}" ${state.beginnerChecklist[item.key] ? "checked" : ""}> ${item.label}</li>`).join("");
            updateBeginnerProgress();
        }

        function updateBeginnerProgress() {
            const values = Object.values(state.beginnerChecklist);
            const done = values.filter(Boolean).length;
            document.getElementById("beginner-progress").value = (done / values.length) * 100;
        }

        function renderSupport() {
            document.getElementById("study-tips").innerHTML = tips.map(t => `<li>${t}</li>`).join("");
            const faqContainer = document.getElementById("faq");
            faqContainer.innerHTML = faqs.map(faq => `
                <div class="accordion-item">
                    <div class="accordion-header">
                        <strong>${faq.question}</strong>
                        <span>+</span>
                    </div>
                    <div class="accordion-content">${faq.answer}</div>
                </div>
            `).join("");
        }

        function renderAdaptation() {
            document.getElementById("difficulty-slider").value = state.difficulty;
            renderDragGame();
        }

        function renderDragGame() {
            const area = document.getElementById("drag-area");
            const slots = dragSentence.text.split("___");
            area.innerHTML = `
                <div>${slots[0]} <span class="drop-target" data-drop="0"></span> ${slots[1]} <span class="drop-target" data-drop="1"></span> schedule.</div>
                <div class="drag-list">${dragSentence.words.map((w, idx) => `<span draggable="true" class="draggable-word" data-word-index="${idx}">${w}</span>`).join(" ")}</div>
            `;
        }

        function renderTracking() {
            drawRadarChart("skill-chart", {
                listening: avgScore("listening"),
                reading: avgScore("reading"),
                grammar: avgScore("grammar"),
                vocabulary: avgScore("vocabulary"),
                speaking: avgScore("speaking")
            });
            updateWeaknesses();
            updateAccuracy();
        }

        function renderReporting() {
            document.getElementById("weekly-report").innerHTML = state.reports.weekly.map(report => `<div class="stat"><strong>${report.week}</strong><span>${report.summary}</span></div>`).join("") || "<p>Ch∆∞a c√≥ d·ªØ li·ªáu.</p>";
            document.getElementById("monthly-progress").innerHTML = state.reports.monthly.map(report => `<div class="stat"><strong>${report.month}</strong><span>${report.details}</span></div>`).join("") || "<p>Ch∆∞a c√≥ d·ªØ li·ªáu.</p>";
            document.getElementById("score-prediction").textContent = state.scorePrediction || 0;
            document.getElementById("parent-sessions").textContent = state.parentSnapshot.sessions;
            document.getElementById("parent-strength").textContent = state.parentSnapshot.strength || "Ch∆∞a x√°c ƒë·ªãnh";
            document.getElementById("parent-weakness").textContent = state.parentSnapshot.weakness || "Ch∆∞a x√°c ƒë·ªãnh";
            document.getElementById("parent-resource").textContent = state.parentSnapshot.resource || "S·∫Ω c·∫≠p nh·∫≠t";
            document.getElementById("certificate-name").value = state.certificate.name || "";
        }

        function renderChat() {
            const container = document.getElementById("chat-messages");
            container.innerHTML = state.chatHistory.map(msg => `<div class="message ${msg.role}">${msg.text}</div>`).join("");
            container.scrollTop = container.scrollHeight;
        }

        function attachEvents() {
            document.getElementById("target-score-input").addEventListener("input", e => {
                state.targetScore = parseInt(e.target.value, 10);
                renderTargetScore();
            });
            document.getElementById("save-target-score").addEventListener("click", () => {
                saveState();
                showToast("ƒê√£ l∆∞u m·ª•c ti√™u ƒëi·ªÉm.", "success");
            });
            document.getElementById("start-placement").addEventListener("click", () => document.getElementById("assessment").scrollIntoView({ behavior: "smooth" }));
            document.getElementById("open-planner").addEventListener("click", () => document.getElementById("study-planner").scrollIntoView({ behavior: "smooth" }));
            document.getElementById("open-tutorial").addEventListener("click", () => showTutorial());
            document.getElementById("refresh-word-day").addEventListener("click", () => {
                state.wordOfDay = null;
                renderWordOfDay();
            });
            document.getElementById("start-repetition").addEventListener("click", startRepetitionSession);
            document.getElementById("toggle-visual-mode").addEventListener("click", () => {
                state.visualMode = !state.visualMode;
                renderFlashcard();
            });
            document.getElementById("word-search").addEventListener("input", e => renderWordList(e.target.value));
            document.getElementById("play-word-audio").addEventListener("click", () => speakWord(vocabularyBank[state.flashcardIndex].word));
            document.getElementById("mark-easy").addEventListener("click", () => updateSpacedRepetition("easy"));
            document.getElementById("mark-hard").addEventListener("click", () => updateSpacedRepetition("hard"));
            document.getElementById("show-context").addEventListener("click", () => {
                const example = document.getElementById("flashcard-example");
                example.style.display = example.style.display === "none" ? "block" : "none";
            });
            document.getElementById("placement-test-form").addEventListener("change", () => state.beginnerChecklist.placement = true);
            document.getElementById("submit-grammar-exercise").addEventListener("click", gradeGrammarExercises);
            document.getElementById("run-grammar-check").addEventListener("click", runGrammarCheck);
            document.getElementById("start-practice-drill").addEventListener("click", startPracticeDrill);
            document.getElementById("listening-difficulty").addEventListener("change", e => updateListeningTrack(e.target.value));
            document.getElementById("play-slow").addEventListener("click", () => speakText(listeningTracks[state.listeningLevel].text, 0.8));
            document.getElementById("play-normal").addEventListener("click", () => speakText(listeningTracks[state.listeningLevel].text, 1));
            document.getElementById("repeat-audio").addEventListener("click", () => {
                state.repeatCount = (state.repeatCount || 0) + 1;
                document.getElementById("repeat-count").textContent = state.repeatCount;
                speakText(listeningTracks[state.listeningLevel].text, 0.9);
            });
            document.getElementById("start-timer").addEventListener("click", startPracticeTimer);
            document.getElementById("highlight-answer").addEventListener("click", () => showToast(skimmingHint));
            document.getElementById("start-speed-test").addEventListener("click", () => showToast("ƒê·ªçc ƒëo·∫°n vƒÉn trong 45 gi√¢y!"));
            document.getElementById("speed-start").addEventListener("click", startSpeedTimer);
            document.getElementById("speed-stop").addEventListener("click", stopSpeedTimer);
            document.getElementById("speed-reset").addEventListener("click", resetSpeedTimer);
            document.getElementById("start-full-test").addEventListener("click", () => openMockTest("full"));
            document.getElementById("start-mini-test").addEventListener("click", () => openMockTest("mini"));
            document.getElementById("view-analysis").addEventListener("click", showHistory);
            document.getElementById("planner-form").addEventListener("submit", savePlanner);
            document.getElementById("reminder-form").addEventListener("submit", addReminder);
            document.getElementById("prev-month").addEventListener("click", () => navigateCalendar(-1));
            document.getElementById("next-month").addEventListener("click", () => navigateCalendar(1));
            document.getElementById("speak-word").addEventListener("click", () => speakWord(document.getElementById("pronunciation-word").value || vocabularyBank[state.flashcardIndex].word));
            document.getElementById("record-word").addEventListener("click", startRecording);
            document.getElementById("compare-word").addEventListener("click", comparePronunciation);
            document.getElementById("start-recognition").addEventListener("click", startRecognition);
            document.getElementById("stop-recognition").addEventListener("click", stopRecognition);
            document.getElementById("log-study-day").addEventListener("click", logStudyDay);
            document.getElementById("complete-challenge").addEventListener("click", completeChallenge);
            document.getElementById("toggle-large-text").addEventListener("click", () => toggleLargeText(!state.settings.largeText));
            document.getElementById("export-data").addEventListener("click", exportData);
            document.getElementById("import-data").addEventListener("click", importData);
            document.getElementById("bookmark-section").addEventListener("click", bookmarkCurrentSection);
            document.getElementById("settings-form").addEventListener("submit", saveSettings);
            document.getElementById("restart-tutorial").addEventListener("click", () => showTutorial(true));
            document.getElementById("help-form").addEventListener("submit", submitHelpTicket);
            document.getElementById("difficulty-slider").addEventListener("input", updateDifficulty);
            document.getElementById("visual-mode").addEventListener("click", () => switchLearningStyle("visual"));
            document.getElementById("audio-mode").addEventListener("click", () => switchLearningStyle("auditory"));
            document.getElementById("kinesthetic-mode").addEventListener("click", () => switchLearningStyle("kinesthetic"));
            document.getElementById("start-study-timer").addEventListener("click", startStudyTimer);
            document.getElementById("stop-study-timer").addEventListener("click", stopStudyTimer);
            document.getElementById("update-prediction").addEventListener("click", updatePrediction);
            document.getElementById("generate-certificate").addEventListener("click", generateCertificate);
            document.getElementById("share-dashboard").addEventListener("click", shareDashboard);
            document.getElementById("chat-form").addEventListener("submit", handleChatSubmit);
            document.getElementById("clear-chat").addEventListener("click", clearChat);
            document.getElementById("start-simulator").addEventListener("click", openSimulator);
            document.getElementById("submit-simulator").addEventListener("click", submitSimulator);
            document.getElementById("reset-simulator").addEventListener("click", () => loadSimulatorQuestions());
            document.getElementById("view-simulator-history").addEventListener("click", showSimulatorHistory);
            document.getElementById("submit-mocktest").addEventListener("click", submitMockTest);
            document.getElementById("cancel-mocktest").addEventListener("click", () => closeModal("mocktest-modal"));
            document.querySelectorAll(".modal-close").forEach(btn => btn.addEventListener("click", e => closeModal(e.target.dataset.close)));
            document.getElementById("placement-test-card").addEventListener("submit", handlePlacementSubmit);
            document.getElementById("start-repetition").addEventListener("click", () => state.beginnerChecklist.vocab = true);
            document.addEventListener("keydown", handleShortcuts);
            document.getElementById("tutorial-progress").innerHTML = "";
            document.getElementById("certificate-name").addEventListener("input", e => state.certificate.name = e.target.value);
            enableSwipeNavigation();
            enableDragAndDrop();
        }
        function handlePlacementSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            let score = 0;
            const details = [];
            placementQuestions.forEach(q => {
                const answer = formData.get(`q${q.id}`);
                if (answer === q.answer) score += 20;
                details.push({ question: q.question, answer, correct: q.answer, explanation: q.explanation });
            });
            const level = score >= 80 ? "Intermediate" : score >= 60 ? "Pre-Intermediate" : "Beginner";
            const result = { type: "Placement", score, level, date: new Date().toLocaleDateString(), details };
            state.currentScore = Math.max(state.currentScore, score);
            state.placementResults.push(result);
            document.getElementById("placement-result").innerHTML = `
                <div class="stat">
                    <strong>${score} ƒëi·ªÉm</strong>
                    <span>Level: ${level}</span>
                </div>
            `;
            document.getElementById("placement-level-pill").textContent = level;
            state.beginnerChecklist.placement = true;
            addPoints(50);
            saveState();
            renderTargetScore();
            renderProgressChart();
            updateBeginnerProgress();
            showToast("ƒê√£ ch·∫•m placement test!", "success");
        }

        function startRepetitionSession() {
            const due = state.repetitionQueue.filter(entry => new Date(entry.due) <= now());
            if (!due.length) {
                showToast("Kh√¥ng c√≥ t·ª´ n√†o ƒë·∫øn h·∫°n. H√£y th√™m t·ª´ t·ª´ flashcard.");
                return;
            }
            const word = due[0].word;
            const card = vocabularyBank.find(w => w.word === word);
            if (card) {
                state.flashcardIndex = vocabularyBank.indexOf(card);
                renderFlashcard();
                speakWord(card.word);
            }
        }

        function updateSpacedRepetition(difficulty) {
            const word = vocabularyBank[state.flashcardIndex].word;
            let entry = state.repetitionQueue.find(item => item.word === word);
            if (!entry) {
                entry = { word, stage: 0, due: now().toISOString() };
                state.repetitionQueue.push(entry);
            }
            const intervals = [10 * 60 * 1000, 60 * 60 * 1000, 24 * 60 * 60 * 1000, 3 * 24 * 60 * 60 * 1000, 7 * 24 * 60 * 60 * 1000];
            if (difficulty === "easy") entry.stage = Math.min(entry.stage + 1, intervals.length - 1);
            else entry.stage = Math.max(entry.stage - 1, 0);
            entry.due = new Date(Date.now() + intervals[entry.stage]).toISOString();
            state.beginnerChecklist.vocab = true;
            addPoints(5);
            saveState();
            renderRepetitionQueue();
            showToast("ƒê√£ c·∫≠p nh·∫≠t l·ªãch √¥n t·∫≠p.", "success");
        }

        function speakWord(word) {
            if (!word) return;
            if (!("speechSynthesis" in window)) {
                logError("Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ ƒë·ªçc √¢m.");
                return;
            }
            const utter = new SpeechSynthesisUtterance(word);
            utter.lang = "en-US";
            utter.rate = 0.95;
            window.speechSynthesis.speak(utter);
        }

        function speakText(text, rate = 1) {
            if (!("speechSynthesis" in window)) return;
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = "en-US";
            utter.rate = rate;
            window.speechSynthesis.speak(utter);
        }

        function gradeGrammarExercises() {
            const formData = new FormData(document.getElementById("grammar-exercises"));
            let score = 0;
            grammarExercises.forEach(ex => {
                const answer = formData.get(ex.id);
                if (answer === ex.answer) score += 1;
            });
            const percent = Math.round((score / grammarExercises.length) * 100);
            document.getElementById("grammar-exercise-result").innerHTML = `<div class="stat"><strong>${percent}%</strong><span>${score}/${grammarExercises.length} c√¢u ƒë√∫ng</span></div>`;
            updateAccuracy(score, grammarExercises.length);
            addPoints(score * 2);
            saveState();
        }

        function runGrammarCheck() {
            const text = document.getElementById("grammar-check-input").value;
            const result = document.getElementById("grammar-check-result");
            const issues = [];
            if (!/[.!?]$/.test(text.trim())) issues.push("Th√™m d·∫•u ch·∫•m k·∫øt th√∫c c√¢u.");
            if (/i\s+am\s+go/.test(text.toLowerCase())) issues.push("S·ª≠a 'I am go' th√†nh 'I am going'.");
            if (/he\s+go\s/.test(text.toLowerCase())) issues.push("Th√™m 'es' cho ƒë·ªông t·ª´ khi ch·ªß ng·ªØ l√† he/she/it.");
            result.innerHTML = issues.length ? issues.map(issue => `<li>${issue}</li>`).join("") : "<li>Kh√¥ng ph√°t hi·ªán l·ªói!</li>";
        }

        function startPracticeDrill() {
            const status = document.getElementById("practice-drill-status");
            status.textContent = "ƒêang t·∫°o 10 c√¢u luy·ªán t·∫≠p...";
            setTimeout(() => {
                status.innerHTML = "<div class=\"stat\"><strong>10</strong><span>C√¢u luy·ªán t·∫≠p ƒë√£ th√™m v√†o Planner</span></div>";
                addCalendarTask(new Date(), "Grammar drill 10 c√¢u");
                state.beginnerChecklist.mock = true;
                updateBeginnerProgress();
                addPoints(20);
                saveState();
            }, 800);
        }

        function startPracticeTimer() {
            practiceTimeLeft = 5 * 60;
            if (practiceTimer) clearInterval(practiceTimer);
            practiceTimer = setInterval(() => {
                practiceTimeLeft--;
                document.getElementById("practice-timer").textContent = formatTime(practiceTimeLeft);
                if (practiceTimeLeft <= 0) {
                    clearInterval(practiceTimer);
                    showToast("H·∫øt gi·ªù luy·ªán t·∫≠p!");
                }
            }, 1000);
        }

        function formatTime(seconds) {
            const m = Math.floor(seconds / 60).toString().padStart(2, "0");
            const s = (seconds % 60).toString().padStart(2, "0");
            return `${m}:${s}`;
        }

        function startSpeedTimer() {
            if (speedTimer) return;
            speedStart = Date.now();
            speedTimer = setInterval(() => {
                const elapsed = Math.floor((Date.now() - speedStart) / 1000);
                document.getElementById("speed-time").textContent = formatTime(elapsed);
            }, 250);
        }

        function stopSpeedTimer() {
            if (!speedTimer) return;
            clearInterval(speedTimer);
            speedTimer = null;
            const elapsed = Math.floor((Date.now() - speedStart) / 1000);
            const words = speedText.split(/\s+/).length;
            const wpm = Math.round((words / elapsed) * 60);
            document.getElementById("speed-wpm").textContent = `${wpm} wpm`;
            updateAccuracy(Math.min(words, elapsed), words);
            addPoints(10);
        }

        function resetSpeedTimer() {
            clearInterval(speedTimer);
            speedTimer = null;
            document.getElementById("speed-time").textContent = "00:00";
            document.getElementById("speed-wpm").textContent = "0 wpm";
        }

        function openMockTest(type) {
            const modal = document.getElementById("mocktest-modal");
            const data = mockTestSets[type];
            mockTimeLeft = data.duration;
            document.getElementById("mocktest-info").innerHTML = `<div class=\"stat\"><strong>${type === "full" ? "Full test" : "Mini test"}</strong><span>Th·ªùi gian: ${Math.round(data.duration / 60)} ph√∫t</span></div>`;
            document.getElementById("mocktest-questions").innerHTML = data.questions.map(q => `
                <div class="card" style="margin-bottom:1rem;">
                    <strong>${q.id}. ${q.text}</strong>
                    ${q.options.map(opt => `
                        <label style="display:flex; gap:0.4rem; margin-top:0.3rem;">
                            <input type="radio" name="${q.id}" value="${opt}">
                            <span>${opt}</span>
                        </label>
                    `).join("")}
                </div>
            `).join("");
            mockTimer && clearInterval(mockTimer);
            mockTimer = setInterval(() => {
                mockTimeLeft--;
                document.getElementById("mocktest-info").dataset.timer = formatTime(mockTimeLeft);
                if (mockTimeLeft <= 0) {
                    clearInterval(mockTimer);
                    submitMockTest();
                }
            }, 1000);
            openModal("mocktest-modal");
        }

        function submitMockTest() {
            const modal = document.getElementById("mocktest-modal");
            const questions = modal.querySelectorAll("input[type=radio]");
            const answers = {};
            questions.forEach(input => {
                if (input.checked) answers[input.name] = input.value;
            });
            const set = Object.values(mockTestSets).find(s => s.questions.some(q => answers[q.id] !== undefined));
            let correct = 0;
            if (set) {
                set.questions.forEach(q => {
                    if (answers[q.id] === q.answer) correct++;
                });
                const score = Math.round((correct / set.questions.length) * 990);
                const result = { type: "Mock", score, correct, total: set.questions.length, date: new Date().toLocaleDateString() };
                state.simulatorHistory.push(result);
                document.getElementById("mock-test-summary").innerHTML = `<div class=\"stat\"><strong>${score}</strong><span>${correct}/${set.questions.length} c√¢u ƒë√∫ng</span></div>`;
                addPoints(correct * 3);
                state.beginnerChecklist.mock = true;
                saveState();
                renderProgressChart();
                updateBeginnerProgress();
                closeModal("mocktest-modal");
                showToast("ƒê√£ ch·∫•m mock test!", "success");
            } else {
                showToast("Ch∆∞a tr·∫£ l·ªùi c√¢u h·ªèi n√†o.", "warning");
            }
        }

        function showHistory() {
            const content = document.getElementById("history-content");
            const history = state.simulatorHistory.concat(state.placementResults);
            content.innerHTML = history.slice(-10).map(item => `<div class="stat"><strong>${item.type}</strong><span>${item.score} ƒëi·ªÉm (${item.date})</span></div>`).join("");
            openModal("history-modal");
        }

        function savePlanner(event) {
            event.preventDefault();
            state.planner.dailyMinutes = parseInt(document.getElementById("daily-goal").value, 10) || 30;
            state.planner.vocabPerDay = parseInt(document.getElementById("vocab-goal").value, 10) || 10;
            state.planner.focus = document.getElementById("study-focus").value;
            state.beginnerChecklist.planner = true;
            saveState();
            renderPlanner();
            updateBeginnerProgress();
            addPoints(15);
            showToast("ƒê√£ l∆∞u Study Planner", "success");
        }
        function addReminder(event) {
            event.preventDefault();
            const time = document.getElementById("reminder-time").value;
            if (!time) return;
            state.reminders.push({ time, note: "Study TOEIC" });
            saveState();
            renderReminders();
            scheduleReminder(time);
            showToast("ƒê√£ th√™m nh·∫Øc nh·ªü", "success");
        }

        function scheduleReminder(time) {
            const [hours, minutes] = time.split(":").map(Number);
            const nowDate = new Date();
            const reminderDate = new Date();
            reminderDate.setHours(hours, minutes, 0, 0);
            let delay = reminderDate.getTime() - nowDate.getTime();
            if (delay < 0) delay += 24 * 60 * 60 * 1000;
            setTimeout(() => showToast(`Nh·∫Øc h·ªçc TOEIC l√∫c ${time}!`, "info"), delay);
        }

        function navigateCalendar(offset) {
            const current = new Date(state.calendarMonth);
            current.setMonth(current.getMonth() + offset);
            state.calendarMonth = current.toISOString();
            saveState();
            renderCalendar(current);
        }

        function startRecording() {
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                logError("Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ ghi √¢m.");
                return;
            }
            navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
                recorder = new MediaRecorder(stream);
                recordedChunks = [];
                recorder.ondataavailable = event => recordedChunks.push(event.data);
                recorder.onstop = () => {
                    const blob = new Blob(recordedChunks, { type: "audio/webm" });
                    const url = URL.createObjectURL(blob);
                    const audio = document.getElementById("recording-playback");
                    audio.src = url;
                    audio.style.display = "block";
                    showToast("ƒê√£ ghi √¢m xong. Nghe l·∫°i v√† so s√°nh.", "success");
                };
                recorder.start();
                setTimeout(() => recorder && recorder.stop(), 4000);
                showToast("ƒêang ghi √¢m 4 gi√¢y...", "info");
            }).catch(() => logError("Kh√¥ng th·ªÉ truy c·∫≠p micro."));
        }

        function comparePronunciation() {
            const target = document.getElementById("pronunciation-word").value || vocabularyBank[state.flashcardIndex].word;
            const feedback = document.getElementById("pronunciation-feedback");
            feedback.innerHTML = `<div class="stat"><strong>${target}</strong><span>So s√°nh b·∫±ng c√°ch nghe m·∫´u v√† ghi √¢m c·ªßa b·∫°n.</span></div>`;
        }

        function startRecognition() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) {
                logError("Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ Speech Recognition");
                return;
            }
            recognition = new SpeechRecognition();
            recognition.lang = "vi-VN";
            recognition.onresult = event => {
                const transcript = event.results[0][0].transcript.toLowerCase();
                document.getElementById("recognition-status").textContent = `Tr·∫°ng th√°i: ${transcript}`;
                for (const phrase of Object.keys(recognitionPhrases)) {
                    if (transcript.includes(phrase)) {
                        recognitionPhrases[phrase]();
                        showToast(`Th·ª±c hi·ªán l·ªánh: ${phrase}`, "success");
                        break;
                    }
                }
            };
            recognition.onerror = () => logError("Kh√¥ng th·ªÉ nh·∫≠n di·ªán gi·ªçng n√≥i.");
            recognition.start();
            document.getElementById("recognition-status").textContent = "Tr·∫°ng th√°i: Listening...";
        }

        function stopRecognition() {
            if (recognition) {
                recognition.stop();
                document.getElementById("recognition-status").textContent = "Tr·∫°ng th√°i: idle";
            }
        }

        function logStudyDay() {
            const today = new Date().toDateString();
            if (state.streak.lastDate === today) {
                showToast("B·∫°n ƒë√£ ghi nh·∫≠n ng√†y h√¥m nay r·ªìi.");
                return;
            }
            const last = state.streak.lastDate ? new Date(state.streak.lastDate) : null;
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            if (last && last.toDateString() === yesterday.toDateString()) {
                state.streak.count += 1;
            } else {
                state.streak.count = 1;
            }
            state.streak.max = Math.max(state.streak.max, state.streak.count);
            state.streak.lastDate = today;
            saveState();
            renderGamification();
            renderHero();
            showToast(`Streak hi·ªán t·∫°i: ${state.streak.count} ng√†y`, "success");
        }

        function completeChallenge() {
            if (state.challenge.completed && state.challenge.date === new Date().toISOString().slice(0, 10)) {
                showToast("B·∫°n ƒë√£ ho√†n th√†nh th·ª≠ th√°ch h√¥m nay!", "info");
                return;
            }
            state.challenge.completed = true;
            addPoints(40);
            showToast("Ch√∫c m·ª´ng ho√†n th√†nh th·ª≠ th√°ch!", "success");
            updateChallenge();
        }

        function updateChallenge() {
            const today = new Date().toISOString().slice(0, 10);
            if (!state.challenge || state.challenge.date !== today) {
                state.challenge = {
                    text: challengePool[Math.floor(Math.random() * challengePool.length)],
                    completed: false,
                    date: today
                };
            }
            document.getElementById("daily-challenge").textContent = state.challenge.text;
        }

        function toggleLargeText(enabled) {
            state.settings.largeText = enabled;
            document.body.classList.toggle("large-text", enabled);
            saveState();
        }

        function exportData() {
            const textarea = document.getElementById("sync-data");
            textarea.value = JSON.stringify(state, null, 2);
            textarea.select();
            document.execCommand("copy");
            showToast("ƒê√£ sao ch√©p d·ªØ li·ªáu ƒë·ªÉ ƒë·ªìng b·ªô.", "success");
        }

        function importData() {
            const textarea = document.getElementById("sync-data");
            try {
                const imported = JSON.parse(textarea.value);
                Object.assign(state, imported);
                saveState();
                initApp();
                showToast("ƒê√£ nh·∫≠p d·ªØ li·ªáu", "success");
            } catch (error) {
                logError("D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá");
            }
        }

        function bookmarkCurrentSection() {
            const section = document.elementFromPoint(window.innerWidth / 2, window.innerHeight / 2).closest("section");
            if (!section) return;
            const label = section.querySelector("h2")?.textContent || section.id;
            state.bookmarks.push({ href: `#${section.id}`, label });
            saveState();
            renderCrossPlatform();
            showToast("ƒê√£ l∆∞u bookmark", "success");
        }

        function saveSettings(event) {
            event.preventDefault();
            state.settings.theme = document.getElementById("preferred-theme").value;
            state.settings.learningStyle = document.getElementById("learning-style").value;
            document.body.dataset.theme = state.settings.theme;
            saveState();
            showToast("ƒê√£ l∆∞u c√†i ƒë·∫∑t", "success");
        }

        function submitHelpTicket(event) {
            event.preventDefault();
            const topic = document.getElementById("help-topic").value;
            const message = document.getElementById("help-message").value;
            state.helpTickets.push({ topic, message, date: new Date().toLocaleString() });
            document.getElementById("help-response").innerHTML = `<div class="stat"><strong>ƒê√£ nh·∫≠n</strong><span>Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi trong 24h.</span></div>`;
            addPoints(5);
            saveState();
            showToast("ƒê√£ g·ª≠i y√™u c·∫ßu h·ªó tr·ª£", "success");
        }

        function updateDifficulty(event) {
            state.difficulty = parseInt(event.target.value, 10);
            updateDifficultyLabel();
            saveState();
        }

        function updateDifficultyLabel() {
            const labels = ["C·ª±c d·ªÖ", "D·ªÖ", "Trung b√¨nh", "Kh√≥", "R·∫•t kh√≥"];
            document.getElementById("difficulty-label").textContent = `M·ª©c hi·ªán t·∫°i: ${labels[state.difficulty - 1] || "T√πy ch·ªânh"}`;
        }

        function switchLearningStyle(style) {
            state.settings.learningStyle = style;
            saveState();
            const content = document.getElementById("learning-style-content");
            if (style === "visual") content.innerHTML = "<p>S·ª≠ d·ª•ng infographic, s∆° ƒë·ªì v√† h√¨nh ·∫£nh minh h·ªça.</p>";
            if (style === "auditory") content.innerHTML = "<p>Nghe podcast, shadowing v√† ƒë·ªçc to.</p>";
            if (style === "kinesthetic") content.innerHTML = "<p>Th·ª±c h√†nh qua ho·∫°t ƒë·ªông k√©o th·∫£, ghi ch√∫ b·∫±ng tay.</p>";
        }

        function startStudyTimer() {
            if (studyTimer) return;
            studyStart = Date.now();
            studyTimer = setInterval(() => {
                const elapsed = Math.floor((Date.now() - studyStart) / 1000);
                document.getElementById("study-session-time").textContent = formatTime(elapsed);
            }, 500);
            showToast("B·∫Øt ƒë·∫ßu ghi th·ªùi gian h·ªçc", "info");
        }

        function stopStudyTimer() {
            if (!studyTimer) return;
            clearInterval(studyTimer);
            studyTimer = null;
            const elapsedMinutes = Math.round((Date.now() - studyStart) / 60000);
            state.studyTime.totalMinutes += elapsedMinutes;
            state.studyTime.sessions.push({ minutes: elapsedMinutes, date: new Date().toLocaleString() });
            document.getElementById("study-total-time").textContent = `${state.studyTime.totalMinutes} ph√∫t`;
            updateStudyAnalytics();
            saveState();
            showToast("ƒê√£ l∆∞u phi√™n h·ªçc", "success");
        }

        function updateStudyAnalytics() {
            const suggestions = document.getElementById("improvement-suggestions");
            const total = state.studyTime.totalMinutes;
            const tipsList = [];
            if (total < 120) tipsList.push("TƒÉng th·ªùi l∆∞·ª£ng nghe th√™m 15 ph√∫t/ng√†y.");
            if (avgScore("listening") < 0.5) tipsList.push("T·∫≠p trung Part 2 v√† 3 v·ªõi audio t·ªëc ƒë·ªô ch·∫≠m.");
            if (!tipsList.length) tipsList.push("Ti·∫øp t·ª•c duy tr√¨ l·ªãch h·ªçc hi·ªán t·∫°i!");
            suggestions.innerHTML = tipsList.map(t => `<li>${t}</li>`).join("");
        }

        function updatePrediction() {
            const avg = (avgScore("listening") + avgScore("reading") + avgScore("grammar")) / 3;
            state.scorePrediction = Math.round((avg || 0.5) * 990);
            saveState();
            renderReporting();
            showToast("ƒê√£ c·∫≠p nh·∫≠t ƒëi·ªÉm d·ª± ƒëo√°n", "success");
        }

        function generateCertificate() {
            const canvas = document.getElementById("certificate-canvas");
            const ctx = canvas.getContext("2d");
            ctx.fillStyle = "#f8fafc";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = "#38bdf8";
            ctx.lineWidth = 6;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);
            ctx.font = "28px Be Vietnam Pro";
            ctx.fillStyle = "#0f172a";
            ctx.textAlign = "center";
            const name = state.certificate.name || "Learner";
            ctx.fillText("Certificate of Achievement", canvas.width / 2, 120);
            ctx.font = "22px Be Vietnam Pro";
            ctx.fillText(name, canvas.width / 2, 190);
            ctx.font = "18px Be Vietnam Pro";
            ctx.fillText("Ho√†n th√†nh l·ªô tr√¨nh TOEIC Beginner", canvas.width / 2, 230);
            ctx.fillText(`Target score: ${state.targetScore} - Prediction: ${state.scorePrediction || 0}`, canvas.width / 2, 270);
            ctx.fillText(new Date().toLocaleDateString(), canvas.width / 2, 320);
            state.certificate.lastGenerated = new Date().toISOString();
            saveState();
            canvas.toBlob(blob => {
                const link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = `certificate-${name}.png`;
                link.click();
            });
            showToast("ƒê√£ t·∫°o ch·ª©ng ch·ªâ", "success");
        }

        function shareDashboard() {
            const report = `Bu·ªïi h·ªçc: ${state.parentSnapshot.sessions}\nƒêi·ªÉm m·∫°nh: ${state.parentSnapshot.strength}\nƒêi·ªÉm y·∫øu: ${state.parentSnapshot.weakness}`;
            navigator.clipboard?.writeText(report).then(() => showToast("ƒê√£ sao ch√©p b√°o c√°o", "success"));
        }

        function handleChatSubmit(event) {
            event.preventDefault();
            const input = document.getElementById("chat-message");
            const text = input.value.trim();
            if (!text) return;
            state.chatHistory.push({ role: "user", text });
            renderChat();
            input.value = "";
            setTimeout(() => {
                const response = generateChatResponse(text);
                state.chatHistory.push({ role: "bot", text: response });
                renderChat();
                saveState();
            }, 500);
        }

        function generateChatResponse(text) {
            const lower = text.toLowerCase();
            if (lower.includes("t·ª´ v·ª±ng")) return "H√£y v√†o Vocabulary Lab v√† √¥n 10 t·ª´ trong danh s√°ch Essential.";
            if (lower.includes("ƒëi·ªÉm")) return `ƒêi·ªÉm d·ª± ƒëo√°n hi·ªán t·∫°i c·ªßa b·∫°n l√† ${state.scorePrediction || 0}.`;
            if (lower.includes("planner")) return "B·∫°n c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh planner trong m·ª•c Study Planner v·ªõi daily goal.";
            return "C·∫£m ∆°n b·∫°n! H·ªá th·ªëng s·∫Ω h·ªó tr·ª£ trong 24h.";
        }

        function clearChat() {
            state.chatHistory = [];
            renderChat();
            saveState();
        }
        function addPoints(value) {
            state.points += value;
            renderGamification();
            saveState();
        }

        function updateWeaknesses() {
            const list = document.getElementById("weakness-list");
            const breakdown = [
                { skill: "Listening", value: avgScore("listening") },
                { skill: "Reading", value: avgScore("reading") },
                { skill: "Grammar", value: avgScore("grammar") },
                { skill: "Vocabulary", value: avgScore("vocabulary") }
            ];
            list.innerHTML = breakdown.sort((a, b) => a.value - b.value).map(item => `<li>${item.skill}: ${(item.value * 100).toFixed(0)}%</li>`).join("");
        }

        function avgScore(type) {
            const relevant = state.simulatorHistory.filter(item => item.type.toLowerCase().includes(type));
            if (!relevant.length) return state.currentScore ? state.currentScore / 990 : 0;
            return relevant.reduce((sum, item) => sum + item.score, 0) / (relevant.length * 990);
        }

        function updateAccuracy(correct = 0, total = 0) {
            state.accuracy.correct += correct;
            state.accuracy.total += total;
            const rate = state.accuracy.total ? Math.round((state.accuracy.correct / state.accuracy.total) * 100) : 0;
            document.getElementById("accuracy-rate").textContent = `${rate}%`;
            saveState();
        }

        function drawRadarChart(id, data) {
            const canvas = document.getElementById(id);
            if (!canvas) return;
            const ctx = canvas.getContext("2d");
            const labels = Object.keys(data);
            const values = Object.values(data);
            const max = Math.max(...values, 1);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 20;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = "rgba(148,163,184,0.3)";
            for (let level = 1; level <= 5; level++) {
                ctx.beginPath();
                labels.forEach((label, index) => {
                    const angle = (Math.PI * 2 * index) / labels.length - Math.PI / 2;
                    const r = (radius / 5) * level;
                    const x = centerX + Math.cos(angle) * r;
                    const y = centerY + Math.sin(angle) * r;
                    if (index === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
                });
                ctx.closePath();
                ctx.stroke();
            }
            ctx.beginPath();
            values.forEach((value, index) => {
                const angle = (Math.PI * 2 * index) / labels.length - Math.PI / 2;
                const r = (value / max) * radius;
                const x = centerX + Math.cos(angle) * r;
                const y = centerY + Math.sin(angle) * r;
                if (index === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
            });
            ctx.closePath();
            ctx.fillStyle = "rgba(56,189,248,0.3)";
            ctx.fill();
            ctx.strokeStyle = "rgba(56,189,248,0.6)";
            ctx.stroke();
            ctx.fillStyle = "rgba(148,163,184,0.8)";
            ctx.font = "12px Be Vietnam Pro";
            labels.forEach((label, index) => {
                const angle = (Math.PI * 2 * index) / labels.length - Math.PI / 2;
                const x = centerX + Math.cos(angle) * (radius + 12);
                const y = centerY + Math.sin(angle) * (radius + 12);
                ctx.fillText(label, x - 20, y);
            });
        }

        function addCalendarTask(date, text) {
            const key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;
            if (!state.calendar[key]) state.calendar[key] = [];
            state.calendar[key].push(text);
            saveState();
            renderCalendar(new Date(state.calendarMonth));
        }

        function openSimulator() {
            loadSimulatorQuestions();
            openModal("simulator-modal");
            simulatorTimeLeft = 15 * 60;
            simulatorTimer && clearInterval(simulatorTimer);
            simulatorTimer = setInterval(() => {
                simulatorTimeLeft--;
                if (simulatorTimeLeft <= 0) {
                    clearInterval(simulatorTimer);
                    submitSimulator();
                }
            }, 1000);
        }

        function loadSimulatorQuestions() {
            const body = document.getElementById("simulator-body");
            const questions = placementQuestions.concat(readingParts.map((part, idx) => ({
                id: 100 + idx,
                question: `Reading mini ${part.title}`,
                options: ["A", "B", "C", "D"],
                answer: ["A", "B", "C", "D"][idx % 4],
                explanation: "Gi·∫£i th√≠ch s·∫Ω hi·ªÉn th·ªã sau khi n·ªôp."
            })));
            body.innerHTML = questions.map(q => `
                <div class="card" style="margin-bottom:1rem;">
                    <strong>${q.question}</strong>
                    ${q.options.map(opt => `
                        <label style="display:flex; gap:0.4rem; margin-top:0.3rem;">
                            <input type="radio" name="sim-${q.id}" value="${opt}">
                            <span>${opt}</span>
                        </label>
                    `).join("")}
                </div>
            `).join("");
            document.getElementById("simulator-feedback").innerHTML = "";
        }

        function submitSimulator() {
            const modal = document.getElementById("simulator-modal");
            const inputs = modal.querySelectorAll("input[type=radio]");
            const answers = {};
            inputs.forEach(input => {
                if (input.checked) answers[input.name] = input.value;
            });
            const questions = placementQuestions.concat(readingParts.map((part, idx) => ({
                id: 100 + idx,
                answer: ["A", "B", "C", "D"][idx % 4]
            })));
            let correct = 0;
            questions.forEach(q => {
                if (answers[`sim-${q.id}`] === q.answer) correct++;
            });
            const score = Math.round((correct / questions.length) * 990);
            const feedback = document.getElementById("simulator-feedback");
            feedback.innerHTML = `<div class="stat"><strong>${score}</strong><span>${correct}/${questions.length} c√¢u ƒë√∫ng</span></div>`;
            state.simulatorHistory.push({ type: "Simulator", score, correct, total: questions.length, date: new Date().toLocaleDateString() });
            state.currentScore = Math.max(state.currentScore, score);
            document.getElementById("simulator-last-score").textContent = `${score} ƒëi·ªÉm`;
            document.getElementById("simulator-last-date").textContent = new Date().toLocaleString();
            addPoints(correct * 4);
            saveState();
            renderProgressChart();
            renderHero();
            showToast("ƒê√£ ho√†n th√†nh TOEIC simulator", "success");
        }

        function showSimulatorHistory() {
            const container = document.getElementById("simulator-history");
            if (container.style.display === "none") container.style.display = "block"; else container.style.display = "none";
            container.innerHTML = state.simulatorHistory.slice(-5).map(item => `<div>${item.date}: ${item.score} ƒëi·ªÉm</div>`).join("");
        }

        function openModal(id) {
            document.getElementById(id).classList.add("active");
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove("active");
        }

        function handleShortcuts(event) {
            if (event.shiftKey && event.key.toLowerCase() === "l") {
                document.getElementById("listening").scrollIntoView({ behavior: "smooth" });
            }
            if (event.shiftKey && event.key.toLowerCase() === "v") {
                document.getElementById("vocabulary").scrollIntoView({ behavior: "smooth" });
            }
            if (event.shiftKey && event.key.toLowerCase() === "p") {
                document.getElementById("study-planner").scrollIntoView({ behavior: "smooth" });
            }
        }

        function enableSwipeNavigation() {
            let startX = 0;
            document.addEventListener("touchstart", event => {
                startX = event.touches[0].clientX;
            });
            document.addEventListener("touchend", event => {
                const diff = event.changedTouches[0].clientX - startX;
                if (Math.abs(diff) > 120) {
                    const sections = Array.from(document.querySelectorAll("section"));
                    const current = sections.findIndex(section => section.getBoundingClientRect().top >= 0 && section.getBoundingClientRect().top < window.innerHeight / 2);
                    if (diff < 0 && sections[current + 1]) sections[current + 1].scrollIntoView({ behavior: "smooth" });
                    if (diff > 0 && sections[current - 1]) sections[current - 1].scrollIntoView({ behavior: "smooth" });
                }
            });
        }

        function enableDragAndDrop() {
            document.addEventListener("dragstart", event => {
                if (event.target.classList.contains("draggable-word")) {
                    event.dataTransfer.setData("text/plain", event.target.textContent);
                }
            });
            document.addEventListener("dragover", event => {
                if (event.target.classList.contains("drop-target")) {
                    event.preventDefault();
                }
            });
            document.addEventListener("drop", event => {
                if (event.target.classList.contains("drop-target")) {
                    event.preventDefault();
                    const word = event.dataTransfer.getData("text/plain");
                    event.target.textContent = word;
                    checkDragGame();
                }
            });
        }

        function checkDragGame() {
            const targets = Array.from(document.querySelectorAll(".drop-target"));
            if (targets.length < dragSentence.dropOrder.length) return;
            const success = targets.every((target, idx) => target.textContent.trim().toLowerCase() === dragSentence.dropOrder[idx]);
            if (success) {
                if (!state.dragGame.completed) {
                    state.dragGame.completed = true;
                    addPoints(20);
                    showToast("Ho√†n th√†nh ho·∫°t ƒë·ªông k√©o th·∫£!", "success");
                }
            }
        }

        function buildTutorial() {
            const progress = document.getElementById("tutorial-progress");
            progress.innerHTML = "";
            for (let i = 0; i < 4; i++) {
                const dot = document.createElement("span");
                if (i === 0) dot.classList.add("active");
                progress.appendChild(dot);
            }
            document.getElementById("next-tutorial").addEventListener("click", advanceTutorial);
            document.getElementById("skip-tutorial").addEventListener("click", () => closeTutorial());
            if (!state.tutorialCompleted) showTutorial();
        }

        let tutorialStep = 0;

        function showTutorial(force = false) {
            if (!force && state.tutorialCompleted) return;
            document.getElementById("tutorial-overlay").classList.add("active");
            updateTutorialContent();
        }

        function closeTutorial() {
            document.getElementById("tutorial-overlay").classList.remove("active");
            state.tutorialCompleted = true;
            saveState();
        }

        function advanceTutorial() {
            tutorialStep++;
            if (tutorialStep > 3) {
                closeTutorial();
                return;
            }
            updateTutorialContent();
        }

        function updateTutorialContent() {
            const steps = [
                "Kh·ªüi ƒë·ªông b·∫±ng Placement Test ƒë·ªÉ x√°c ƒë·ªãnh level.",
                "√în t·∫≠p t·ª´ v·ª±ng v·ªõi Word of the Day v√† flashcard.",
                "Theo d√µi k·∫ø ho·∫°ch h·ªçc trong Study Planner v√† nh·∫≠n nh·∫Øc nh·ªü.",
                "Th·ª≠ s·ª©c v·ªõi Mock Test ƒë·ªÉ c·∫≠p nh·∫≠t ƒëi·ªÉm d·ª± ƒëo√°n."
            ];
            document.getElementById("tutorial-text").textContent = steps[tutorialStep];
            const dots = document.querySelectorAll("#tutorial-progress span");
            dots.forEach((dot, idx) => dot.classList.toggle("active", idx === tutorialStep));
        }

        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').catch(() => {
                    logError('Kh√¥ng th·ªÉ k√≠ch ho·∫°t offline mode.');
                });
            }
        }

        function updateHeroChart() {
            const canvas = document.getElementById("hero-chart");
            if (!canvas) return;
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const history = state.simulatorHistory.slice(-6);
            const width = canvas.width;
            const height = canvas.height;
            const barWidth = width / (history.length || 6);
            ctx.fillStyle = "rgba(56,189,248,0.5)";
            history.forEach((item, idx) => {
                const barHeight = (item.score / 990) * (height - 40);
                ctx.fillRect(idx * barWidth + 20, height - barHeight - 20, barWidth - 30, barHeight);
                ctx.fillStyle = "rgba(148,163,184,0.6)";
                ctx.fillText(item.score, idx * barWidth + 24, height - barHeight - 24);
                ctx.fillStyle = "rgba(56,189,248,0.5)";
            });
        }

        window.addEventListener("beforeunload", saveState);
    </script>
>>>>>>> 684a4f7 (Implement fully interactive TOEIC learning platform)
</body>
</html>
